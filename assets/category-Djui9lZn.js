import{x as p,o as Q,P as $,Q as n,R as y,S as a,c as t,ai as z,aj as E,W as _,Y as f,X as b,a2 as l,U as r,T as w,ae as G,a3 as I,Z as o,a9 as P,V as X,a6 as Y,a7 as Z,a8 as q,ab as H,_ as J,af as K,ag as M}from"./index-DRK1-Qlp.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ee}from"./VContainer-Cbd5fH4M.js";import{V}from"./VDivider-D5PvHNFX.js";import{V as h,a as v}from"./VRow-BeSSNumG.js";import{a as te,V as S}from"./VChip-BEEAEfKU.js";import"./VSlideGroup-5NmVpzRI.js";const x=g=>(K("data-v-dc518b34"),g=g(),M(),g),ae=x(()=>l("h2",null,"作品分類",-1)),se=x(()=>l("h2",null,"作品字數",-1)),le={class:"d-flex align-center justify-space-between mb-2"},oe=x(()=>l("h2",null,"標籤選擇",-1)),ce={class:"mr-4",style:{"font-weight":"bolder",color:"black"}},ne={style:{"font-weight":"bolder",color:"black"}},re={class:"mb-2",style:{"font-weight":"bolder",color:"black"}},ue=x(()=>l("p",{style:{"font-weight":"bolder",color:"black"}},"最新內容：",-1)),de={__name:"category",setup(g){const d=p([]),C=p(""),i=p(""),m=p(""),{api:W}=G(),L=p([]),B=["文藝評論","商業理財","藝術設計","人文科普","心靈養生","生活風格","親子共享","傳記/文學史","羅曼史","校園愛情","武俠仙俠","歷史","驚悚推理","奇幻","恐怖靈異","影視","軍事戰爭/災難冒險","溫馨勵志/成長療癒","幽默/諷喻","同志","漫畫","同人","都市","玄幻","科幻","網遊","都會愛情","古代愛情","百合","其他"],T=["不限","50字以下","1000字以下","2萬字以內","2萬-5萬字","5萬字以上"],j=["不限","爽文","心情抒發","療癒","青梅竹馬","戰鬥","異界","戀愛","日常","校園","搞笑","後宮","異能","妖怪","妹控","節操","二創","百合","虐心","甜文","悲劇","喜劇","輕鬆","暗黑","清水","穿越","重生","靈異神怪","異國","冒險","女性向","男性向","輕小說","同志","恐怖"];(async()=>{try{const{data:s}=await W.get("/story");L.value=s.result.data}catch(s){console.error(s)}})();const A=s=>{i.value=i.value===s?"":s},N=s=>{m.value=m.value===s?"":s},R=()=>{d.value=[]},U=s=>{switch(s){case"50字以下":return 50;case"1000字以下":return 1e3;case"2萬字以內":return 2e4;case"2萬-5萬字":return 5e4;case"5萬字以上":return 1/0;default:return 1/0}},D=Q(()=>L.value.filter(s=>{const u=s.title.toLowerCase().includes(C.value.toLowerCase()),k=i.value?s.category===i.value:!0,e=m.value?s.totalWordCount<=U(m.value):!0,c=d.value.length?d.value.every(F=>s.chapterLabels.includes(F)):!0;return u&&k&&e&&c}));return(s,u)=>{const k=$("router-link");return n(),y(ee,{style:{padding:"32px"}},{default:a(()=>[t(E,{class:"my-5"},{default:a(()=>[t(z,{modelValue:C.value,"onUpdate:modelValue":u[0]||(u[0]=e=>C.value=e),label:"搜尋","prepend-inner-icon":"mdi-magnify",density:"compact","hide-details":"","single-line":"",variant:"solo",clearable:"",color:"black"},null,8,["modelValue"])]),_:1}),ae,t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(n(),_(b,null,f(B,e=>t(v,{key:e,cols:"auto"},{default:a(()=>[t(w,{class:I([{"custom-btn":!0,selected:i.value===e},"my-1 mr-1"]),onClick:c=>A(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),se,t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(n(),_(b,null,f(T,e=>t(v,{key:e,cols:"auto"},{default:a(()=>[t(w,{class:I(["mr-1",{"custom-btn":!0,selected:m.value===e}]),onClick:c=>N(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),l("div",le,[oe,t(w,{dense:"",onClick:R,class:"custom-reset-btn"},{default:a(()=>[r("重設標籤")]),_:1})]),t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[t(te,{column:"","selected-class":"text-primary",multiple:"",modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=e=>d.value=e)},{default:a(()=>[(n(),_(b,null,f(j,e=>t(S,{key:e,text:e,class:"custom-chip d-flex align-center justify-center",elevation:"2",value:e},null,8,["text","value"])),64))]),_:1},8,["modelValue"])]),_:1}),(n(!0),_(b,null,f(D.value,e=>(n(),y(k,{key:e.id,to:"/stories/"+e._id,style:{"text-decoration":"none"}},{default:a(()=>[t(P,{style:{border:"1px solid black",margin:"15px"}},{default:a(()=>[t(h,{"no-gutters":""},{default:a(()=>[t(v,{cols:"2",class:"pt-4 pb-4 pl-4"},{default:a(()=>[t(X,{src:e.image,width:"200px",height:"150px",cover:""},null,8,["src"])]),_:2},1024),t(v,{cols:"10"},{default:a(()=>[t(h,{"no-gutters":""},{default:a(()=>[t(v,{class:"mt-4"},{default:a(()=>[t(Y,{class:"d-flex justify-space-between pt-0"},{default:a(()=>[l("span",null,o(e.title),1),t(S,{style:{"border-radius":"4px",padding:"0px 12px",border:"1px solid black","background-color":"rgba(151, 216, 196, 0.4)",color:"black","font-weight":"bold"}},{default:a(()=>[r(o(e.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(Z,null,{default:a(()=>[l("div",null,[l("span",ce,"初創者："+o(e.mainAuthor.username),1),l("span",ne,"最新延續者："+o(e.latestAuthor),1)]),l("p",re," 作品字數："+o(e.totalWordCount),1),ue]),_:2},1024),t(q,{class:"text py-1",style:{"font-weight":"500"}},{default:a(()=>{var c;return[r(o(e.latestContent.length===0?(c=e.content[0])==null?void 0:c.content[0]:e.latestContent),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024),t(V,{style:{color:"black"}}),t(H,{class:"px-4 py-1"},{default:a(()=>[t(J,{class:"mr-2"},{default:a(()=>[r("mdi-label-outline")]),_:1}),(n(!0),_(b,null,f(e.chapterLabels,c=>(n(),y(S,{class:"mr-2",style:{"border-radius":"4px"}},{default:a(()=>[r("#"+o(c),1)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}}},ge=O(de,[["__scopeId","data-v-dc518b34"]]);export{ge as default};
