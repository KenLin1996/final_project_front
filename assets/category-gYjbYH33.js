import{x as p,o as Q,O as $,Q as y,R as a,P as n,c as t,ae as z,ak as E,U as f,X as _,W as b,a0 as s,T as r,S as w,a8 as G,ab as I,Y as o,a5 as O,V as P,a3 as X,aj as Y,a4 as Z,a7 as q,Z as H,af as J,ag as K}from"./index-C-DnEeCt.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ee}from"./VContainer-0UolPNUc.js";import{V}from"./VDivider-C3Bxt46c.js";import{V as h,a as v}from"./VRow-BrEUpKD3.js";import{a as te,V as S}from"./VChip-BXmzA5kB.js";import"./VSlideGroup-CoLXDBZp.js";const C=g=>(J("data-v-0dcc2a73"),g=g(),K(),g),ae=C(()=>s("h2",null,"作品分類",-1)),le=C(()=>s("h2",null,"作品字數",-1)),se={class:"d-flex align-center justify-space-between mb-2"},oe=C(()=>s("h2",null,"標籤選擇",-1)),ce={class:"mr-4",style:{"font-weight":"bolder",color:"black"}},ne={style:{"font-weight":"bolder",color:"black"}},re={class:"mb-2",style:{"font-weight":"bolder",color:"black"}},ue=C(()=>s("p",{style:{"font-weight":"bolder",color:"black"}},"最新內容：",-1)),de={__name:"category",setup(g){const d=p([]),k=p(""),i=p(""),m=p(""),{api:W}=G(),L=p([]),T=["文藝評論","商業理財","藝術設計","人文科普","心靈養生","生活風格","親子共享","傳記/文學史","羅曼史","校園愛情","武俠仙俠","歷史","驚悚推理","奇幻","恐怖靈異","影視","軍事戰爭/災難冒險","溫馨勵志/成長療癒","幽默/諷喻","同志","漫畫","同人","都市","玄幻","科幻","網遊","都會愛情","古代愛情","百合","其他"],B=["不限","50字以下","1000字以下","2萬字以內","2萬-5萬字","5萬字以上"],j=["不限","爽文","心情抒發","療癒","青梅竹馬","戰鬥","異界","戀愛","日常","校園","搞笑","後宮","異能","妖怪","妹控","節操","二創","百合","虐心","甜文","悲劇","喜劇","輕鬆","暗黑","清水","穿越","重生","靈異神怪","異國","冒險","女性向","男性向","輕小說","同志","恐怖"];(async()=>{try{const{data:l}=await W.get("/story");L.value=l.result.data}catch(l){console.error(l)}})();const A=l=>{i.value=i.value===l?"":l},D=l=>{m.value=m.value===l?"":l},N=()=>{d.value=[]},R=l=>{switch(l){case"50字以下":return 50;case"1000字以下":return 1e3;case"2萬字以內":return 2e4;case"2萬-5萬字":return 5e4;case"5萬字以上":return 1/0;default:return 1/0}},U=Q(()=>L.value.filter(l=>{const u=l.title.toLowerCase().includes(k.value.toLowerCase()),x=i.value?l.category===i.value:!0,e=m.value?l.totalWordCount<=R(m.value):!0,c=d.value.length?d.value.every(F=>l.chapterLabels.includes(F)):!0;return u&&x&&e&&c}));return(l,u)=>{const x=$("router-link");return n(),y(ee,{style:{padding:"32px"}},{default:a(()=>[t(E,{class:"my-5"},{default:a(()=>[t(z,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=e=>k.value=e),label:"搜尋","prepend-inner-icon":"mdi-magnify",density:"compact","hide-details":"","single-line":"",variant:"solo",clearable:"",color:"black"},null,8,["modelValue"])]),_:1}),ae,t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(n(),f(b,null,_(T,e=>t(v,{key:e,cols:"auto"},{default:a(()=>[t(w,{class:I([{"custom-btn":!0,selected:i.value===e},"my-1 mr-1"]),onClick:c=>A(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),le,t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(n(),f(b,null,_(B,e=>t(v,{key:e,cols:"auto"},{default:a(()=>[t(w,{class:I(["mr-1",{"custom-btn":!0,selected:m.value===e}]),onClick:c=>D(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),s("div",se,[oe,t(w,{dense:"",onClick:N,class:"custom-reset-btn"},{default:a(()=>[r("重設標籤")]),_:1})]),t(V,{class:"custom-mb-5"}),t(h,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[t(te,{column:"","selected-class":"text-primary",multiple:"",modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=e=>d.value=e)},{default:a(()=>[(n(),f(b,null,_(j,e=>t(S,{key:e,text:e,class:"custom-chip d-flex align-center justify-center",elevation:"2",value:e},null,8,["text","value"])),64))]),_:1},8,["modelValue"])]),_:1}),(n(!0),f(b,null,_(U.value,e=>(n(),y(x,{key:e.id,to:"/stories/"+e._id,style:{"text-decoration":"none"}},{default:a(()=>[t(O,{style:{border:"1px solid black",margin:"15px"},onClick:l.navigateToDetail},{default:a(()=>[t(h,{"no-gutters":""},{default:a(()=>[t(v,{cols:"2",class:"pt-4 pb-4 pl-4"},{default:a(()=>[t(P,{src:e.image,width:"200px",height:"150px",cover:""},null,8,["src"])]),_:2},1024),t(v,{cols:"10"},{default:a(()=>[t(h,{"no-gutters":""},{default:a(()=>[t(v,{class:"mt-4"},{default:a(()=>[t(X,{class:"d-flex justify-space-between pt-0"},{default:a(()=>[s("span",null,o(e.title),1),t(S,{style:{"border-radius":"4px",padding:"0px 12px",border:"1px solid black","background-color":"rgba(151, 216, 196, 0.4)",color:"black","font-weight":"bold"}},{default:a(()=>[r(o(e.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(Y,null,{default:a(()=>[s("div",null,[s("span",ce,"初創者："+o(e.mainAuthor.username),1),s("span",ne,"最新延續者："+o(e.latestAuthor),1)]),s("p",re," 作品字數："+o(e.totalWordCount),1),ue]),_:2},1024),t(Z,{class:"text py-1",style:{"font-weight":"500"}},{default:a(()=>{var c;return[r(o(e.latestContent.length===0?(c=e.content[0])==null?void 0:c.content[0]:e.latestContent),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024),t(V,{style:{color:"black"}}),t(q,{class:"px-4 py-1"},{default:a(()=>[t(H,{class:"mr-2"},{default:a(()=>[r("mdi-label-outline")]),_:1}),(n(!0),f(b,null,_(e.chapterLabels,c=>(n(),y(S,{class:"mr-2",style:{"border-radius":"4px"}},{default:a(()=>[r("#"+o(c),1)]),_:2},1024))),256))]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1032,["to"]))),128))]),_:1})}}},ge=M(de,[["__scopeId","data-v-0dcc2a73"]]);export{ge as default};
