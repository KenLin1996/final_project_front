import{p as I,m as M,a as U,g as L,u as z,c as a,b as ee,d as te,e as ae,f as le,h as oe,t as E,i as ne,j as se,k as ie,l as re,n as ye,s as T,o as i,q as _e,V as W,r as $,v as P,w as be,x as K,y as xe,z as D,A as ke,B as pe,C as ue,D as Se,E as Ve,F as ce,G as J,H as Te,I as we,J as Be,K as Ce,L as Ie,M as Pe,N as He,O as de,P as Ne,Q as ve,R as g,S as b,T as n,U as H,W as V,X as B,Y as C,Z as N,_ as R,$ as Re,a0 as Ee,a1 as Y,a2 as Le,a3 as me,a4 as w,a5 as ze,a6 as Fe}from"./index-DZH1FvPX.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Ae}from"./VContainer-Dm3Q9-rI.js";import{V as O}from"./VMenu-qYNERZNV.js";import{u as ge,V as j,a as q,b as G}from"./VList-DX-qk002.js";import"./VDivider-Cn5E2RE9.js";const De=I({text:String,...M(),...U()},"VToolbarTitle"),Me=L()({name:"VToolbarTitle",props:De(),setup(e,c){let{slots:t}=c;return z(()=>{const r=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Ue=[null,"prominent","default","comfortable","compact"],he=I({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ue.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ee(),...M(),...te(),...ae(),...U({tag:"header"}),...le()},"VToolbar"),Z=L()({name:"VToolbar",props:he(),setup(e,c){var _;let{slots:t}=c;const{backgroundColorClasses:r,backgroundColorStyles:s}=oe(E(e,"color")),{borderClasses:l}=ne(e),{elevationClasses:d}=se(e),{roundedClasses:v}=ie(e),{themeClasses:y}=re(e),{rtlClasses:x}=ye(),h=T(!!(e.extended||(_=t.extension)!=null&&_.call(t))),f=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),k=i(()=>h.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return _e({VBtn:{variant:"text"}}),z(()=>{var F;const o=!!(e.title||t.title),m=!!(t.image||e.image),p=(F=t.extension)==null?void 0:F.call(t);return h.value=!!(e.extended||p),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,l.value,d.value,v.value,y.value,x.value,e.class],style:[s.value,e.style]},{default:()=>[m&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a($,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(W,{key:"image-img",cover:!0,src:e.image},null)]),a($,{defaults:{VTabs:{height:P(f.value)}}},{default:()=>{var A,u,S;return[a("div",{class:"v-toolbar__content",style:{height:P(f.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(A=t.prepend)==null?void 0:A.call(t)]),o&&a(Me,{key:"title",text:e.title},{text:t.title}),(u=t.default)==null?void 0:u.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(S=t.append)==null?void 0:S.call(t)])])]}}),a($,{defaults:{VTabs:{height:P(k.value)}}},{default:()=>[a(be,null,{default:()=>[h.value&&a("div",{class:"v-toolbar__extension",style:{height:P(k.value)}},[p])]})]})]})}),{contentHeight:f,extensionHeight:k}}}),$e=I({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ye(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=c;let r=0,s=0;const l=K(null),d=T(0),v=T(0),y=T(0),x=T(!1),h=T(!1),f=i(()=>Number(e.scrollThreshold)),k=i(()=>xe((f.value-d.value)/f.value||0)),_=()=>{const o=l.value;if(!o||t&&!t.value)return;r=d.value,d.value="window"in o?o.pageYOffset:o.scrollTop;const m=o instanceof Window?document.documentElement.scrollHeight:o.scrollHeight;if(s!==m){s=m;return}h.value=d.value<r,y.value=Math.abs(d.value-f.value)};return D(h,()=>{v.value=v.value||d.value}),D(x,()=>{v.value=0}),ke(()=>{D(()=>e.scrollTarget,o=>{var p;const m=o?document.querySelector(o):window;m&&m!==l.value&&((p=l.value)==null||p.removeEventListener("scroll",_),l.value=m,l.value.addEventListener("scroll",_,{passive:!0}))},{immediate:!0})}),pe(()=>{var o;(o=l.value)==null||o.removeEventListener("scroll",_)}),t&&D(t,_,{immediate:!0}),{scrollThreshold:f,currentScroll:d,currentThreshold:y,isScrollActive:x,scrollRatio:k,isScrollingUp:h,savedScroll:v}}const Oe=I({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...he(),...ue(),...$e(),height:{type:[Number,String],default:64}},"VAppBar"),je=L()({name:"VAppBar",props:Oe(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const r=K(),s=Se(e,"modelValue"),l=i(()=>{var S;const u=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:u.has("hide"),fullyHide:u.has("fully-hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),d=i(()=>{const u=l.value;return u.hide||u.fullyHide||u.inverted||u.collapse||u.elevate||u.fadeImage||!s.value}),{currentScroll:v,scrollThreshold:y,isScrollingUp:x,scrollRatio:h}=Ye(e,{canScroll:d}),f=i(()=>l.value.hide||l.value.fullyHide),k=i(()=>e.collapse||l.value.collapse&&(l.value.inverted?h.value>0:h.value===0)),_=i(()=>e.flat||l.value.fullyHide&&!s.value||l.value.elevate&&(l.value.inverted?v.value>0:v.value===0)),o=i(()=>l.value.fadeImage?l.value.inverted?1-h.value:h.value:void 0),m=i(()=>{var Q,X;const u=Number(((Q=r.value)==null?void 0:Q.contentHeight)??e.height),S=Number(((X=r.value)==null?void 0:X.extensionHeight)??0);return f.value?v.value<y.value||l.value.fullyHide?u+S:u:u+S});Ve(i(()=>!!e.scrollBehavior),()=>{Te(()=>{f.value?l.value.inverted?s.value=v.value>y.value:s.value=x.value||v.value<y.value:s.value=!0})});const{ssrBootStyles:p}=ge(),{layoutItemStyles:F,layoutIsReady:A}=ce({id:e.name,order:i(()=>parseInt(e.order,10)),position:E(e,"location"),layoutSize:m,elementSize:T(void 0),active:s,absolute:E(e,"absolute")});return z(()=>{const u=Z.filterProps(e);return a(Z,J({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...F.value,"--v-toolbar-image-opacity":o.value,height:void 0,...p.value},e.style]},u,{collapse:k.value,flat:_.value}),t)}),A}}),qe=I({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ee(),...M(),...te(),...ue(),...ae(),...U({tag:"footer"}),...le()},"VFooter"),Ge=L()({name:"VFooter",props:qe(),setup(e,c){let{slots:t}=c;const{themeClasses:r}=re(e),{backgroundColorClasses:s,backgroundColorStyles:l}=oe(E(e,"color")),{borderClasses:d}=ne(e),{elevationClasses:v}=se(e),{roundedClasses:y}=ie(e),x=T(32),{resizeRef:h}=we(o=>{o.length&&(x.value=o[0].target.clientHeight)}),f=i(()=>e.height==="auto"?x.value:parseInt(e.height,10)),{layoutItemStyles:k,layoutIsReady:_}=ce({id:e.name,order:i(()=>parseInt(e.order,10)),position:i(()=>"bottom"),layoutSize:f,elementSize:i(()=>e.height==="auto"?void 0:f.value),active:i(()=>e.app),absolute:E(e,"absolute")});return z(()=>a(e.tag,{ref:h,class:["v-footer",r.value,s.value,d.value,v.value,y.value,e.class],style:[l.value,e.app?k.value:{height:P(e.height)},e.style]},t)),e.app?_:{}}}),We=I({scrollable:Boolean,...M(),...Be(),...U({tag:"main"})},"VMain"),Je=L()({name:"VMain",props:We(),setup(e,c){let{slots:t}=c;const{dimensionStyles:r}=Ce(e),{mainStyles:s,layoutIsReady:l}=Ie(),{ssrBootStyles:d}=ge();return z(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,d.value,r.value,e.style]},{default:()=>{var v,y;return[e.scrollable?a("div",{class:"v-main__scroller"},[(v=t.default)==null?void 0:v.call(t)]):(y=t.default)==null?void 0:y.call(t)]}})),l}}),Ke={__name:"NavBar",setup(e){const c=Pe(),t=He(),r=de(),s=Ne(),l=i(()=>r.path==="/login"||r.path==="/register"),d=i(()=>[{title:"故事",items:[{to:"/createStory",text:"創建新故事"},{to:"/category",text:"故事分類"}]},{title:"創作資源",items:[{to:"/articleArea",text:"創作指引"}]}]),v=i(()=>[{to:"/notification1",text:"通知一"},{to:"/notification2",text:"通知二"}]),y=i(()=>[{to:"/management",text:"故事管理"},{to:"/setting",text:"設定"},{text:"登出",click:x}]),x=async()=>{await c.logout(),t({text:"登出成功",snackbarProps:{color:"green"}}),s.push("/")},h=f=>{f.click&&f.click()};return(f,k)=>{const _=ve("router-link");return g(),b(je,{color:"#4E9194",class:"position-fixed",elevation:5},{default:n(()=>[a(Ae,{class:"d-flex align-center",fluid:""},{default:n(()=>[a(_,{to:"/"},{default:n(()=>[a(W,{class:"mx-3",width:"50","aspect-ratio":"1/1",cover:"",src:"https://img.icons8.com/?size=100&id=zVbUsD7GnSYl&format=png&color=000000"})]),_:1}),a(H,{text:"",to:"/",active:!1,ripple:!1,variant:"plain"},{default:n(()=>[V("首頁")]),_:1}),(g(!0),B(C,null,N(d.value,o=>(g(),b(O,{key:o.title,"open-on-hover":"",transition:"slide-y-transition"},{activator:n(({props:m})=>[a(H,J({ref_for:!0},m,{color:"white",ripple:!1,variant:"plain"}),{default:n(()=>[V(R(o.title)+" ",1),a(Re,{right:""},{default:n(()=>[V("mdi-menu-down")]),_:1})]),_:2},1040)]),default:n(()=>[a(j,{class:"pa-2 text-center",density:"compact",lines:!1,nav:""},{default:n(()=>[(g(!0),B(C,null,N(o.items,(m,p)=>(g(),b(q,{class:"px-5 py-0 my-0 custom-menu-item",key:p,to:m.to,link:""},{default:n(()=>[a(G,null,{default:n(()=>[V(R(m.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:2},1024)]),_:2},1024))),128)),a(Ee),!Y(c).isLogin&&!l.value?(g(),b(H,{key:0,outlined:"",border:"",variant:"elevated",color:"#F4B942",size:"default","prepend-icon":"mdi-login",class:"mx-2",to:"/login"},{default:n(()=>[V(" 登入/註冊 ")]),_:1})):(g(),B(C,{key:1},[a(O,{"open-on-hover":"",transition:"slide-y-transition"},{default:n(()=>[a(j,{class:"pa-2 text-center",density:"compact",lines:!1,nav:""},{default:n(()=>[(g(!0),B(C,null,N(v.value,(o,m)=>(g(),b(q,{class:"px-5 py-0 my-0 custom-menu-item",key:m,to:o.to,link:""},{default:n(()=>[a(G,null,{default:n(()=>[V(R(o.text),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})]),_:1}),Y(c).isLogin?(g(),b(O,{key:0,"open-on-hover":"",transition:"slide-y-transition"},{activator:n(({props:o})=>[a(H,J({icon:""},o,{class:"d-flex"}),{default:n(()=>[a(Le,{color:"secondary",class:""},{default:n(()=>[a(W,{src:Y(c).avatar},null,8,["src"])]),_:1})]),_:2},1040)]),default:n(()=>[a(j,{class:"pa-2 text-center",density:"compact",lines:!1,nav:""},{default:n(()=>[(g(!0),B(C,null,N(y.value,(o,m)=>(g(),b(q,{class:"px-5 py-0 my-0 custom-menu-item",key:m,to:o.to,link:"",onClick:p=>h(o)},{default:n(()=>[a(G,null,{default:n(()=>[V(R(o.text),1)]),_:2},1024)]),_:2},1032,["to","onClick"]))),128))]),_:1})]),_:1})):me("",!0)],64))]),_:1})]),_:1})}}},Qe=fe(Ke,[["__scopeId","data-v-9bbded8f"]]),Xe={class:"d-flex justify-space-between px-16 py-0"},Ze=w("div",{class:"d-flex flex-column align-start pt-0 w-75"},[w("p",{style:{color:"black","font-size":"16px"}},"關於我們"),w("p",{class:"text-left",style:{color:"black","font-size":"16px"}}," 「界筆」是指世界之筆，我們期望構築一個文字的世界！「界」有「借鑑」與「世界」兩個概念，代表每個故事的後續都是借鑑最初的故事以及我們有著遍佈全世界的野望！ ")],-1),et={class:"my-1"},tt=w("strong",null,"界筆",-1),at={__name:"Footer",setup(e){const c=K([{name:"mdi-instagram",link:"https://www.example.com/instagram"},{name:"mdi-facebook",link:"https://www.example.com/facebook"},{name:"mdi-linkedin",link:"https://www.example.com/linkedin"}]),t=r=>{window.open(r,"_blank")};return(r,s)=>(g(),b(Ge,{class:"text-center d-flex flex-column",color:"#4E9194",density:"comfortable"},{default:n(()=>[w("div",Xe,[Ze,w("div",null,[(g(!0),B(C,null,N(c.value,l=>(g(),b(H,{key:l,icon:l.name,class:"mx-4",variant:"text",onClick:d=>t(l.link)},null,8,["icon","onClick"]))),128))])]),w("div",et,[V(R(new Date().getFullYear())+" — ",1),tt])]),_:1}))}},lt={__name:"default",setup(e){const c=de(),t=i(()=>c.meta.hideFooter!==!0),r=i(()=>["/login","/register"].includes(c.name));return(s,l)=>{const d=ve("router-view");return g(),b(Fe,null,{default:n(()=>[a(Qe,{style:{height:"64px"}}),a(Je,{class:ze([{"auth-page":r.value},"main-content"])},{default:n(()=>[(g(),b(d,{key:s.$route.fullPath}))]),_:1},8,["class"]),t.value?(g(),b(at,{key:0,style:{"max-height":"120px"}})):me("",!0)]),_:1})}}},ct=fe(lt,[["__scopeId","data-v-0982fdd9"]]);export{ct as default};
