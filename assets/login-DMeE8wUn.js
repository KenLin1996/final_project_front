import{M as S,N as j,x as C,P as F,Q as P,R as M,S as a,a5 as U,c as e,V as B,T as r,U as n,a0 as o,ae as N,af as f}from"./index-D-j42ziH.js";import{a as R,c as p,u as T,b as g}from"./vee-validate.esm-STRXnF5i.js";import{v as q}from"./index-7pmf-ZMF.js";import{V as v}from"./VContainer-CGAFbPNq.js";import{V as z,a as b}from"./VRow-kxAzJGzz.js";import{V as E}from"./VDivider-C-0_hfi6.js";import{V as I}from"./VForm-B0joBIqd.js";const L={__name:"login",setup($){const y=U(),V=S(),c=j(),x=R({email:p().required("使用者信箱必填").test("isEmail","使用者信箱格式錯誤",t=>q.isEmail(t)),password:p().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),l=C(!1),w=()=>{l.value=!l.value},{handleSubmit:_,isSubmitting:m}=T({validationSchema:x}),i=g("email"),d=g("password"),h=_(async t=>{const s=await V.login(t);s==="登入成功"?(c({text:s,snackbarProps:{color:"green"}}),y.push("/")):c({text:s,snackbarProps:{color:"red"}})});return(t,s)=>{const k=F("router-link");return P(),M(v,{class:"d-flex align-center justify-center h-100 mt-0",fluid:""},{default:a(()=>[e(v,{class:"text-center pa-8 rounded-lg elevation-4",style:{width:"500px","background-color":"white",border:"1px solid rgba(255, 255, 255, 0.1)"}},{default:a(()=>[e(z,{class:"d-flex flex-column justify-center"},{default:a(()=>[e(b,{class:"d-flex flex-column justify-center align-center my-2"},{default:a(()=>[e(k,{to:"/"},{default:a(()=>[e(B,{class:"my-4",width:100,"aspect-ratio":"1/1",cover:"",src:"https://cdn.vuetifyjs.com/images/parallax/material.jpg"})]),_:1}),e(r,{outlined:"",border:"",style:{"background-color":"#ffffff"},color:"#000000","prepend-icon":"mdi-google",class:"my-2 elevation-1 w-66 h-25",variant:"plain",to:"/login"},{default:a(()=>[n(" 使用 Google 登入 ")]),_:1}),e(r,{outlined:"",border:"",style:{"background-color":"#ffffff"},color:"#000000",size:"default","prepend-icon":"mdi-facebook",class:"my-2 elevation-1 w-66 h-25",variant:"plain",to:"/login"},{default:a(()=>[n(" 使用 Facebook 登入 ")]),_:1})]),_:1}),e(E,{class:"my-2"}),e(b,{cols:"12"},{default:a(()=>[e(I,{disabled:o(m),onSubmit:N(o(h),["prevent"])},{default:a(()=>[e(f,{label:"信箱",type:"email",modelValue:o(i).value.value,"onUpdate:modelValue":s[0]||(s[0]=u=>o(i).value.value=u),"error-messages":o(i).errorMessage.value},null,8,["modelValue","error-messages"]),e(f,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:l.value?"text":"password",modelValue:o(d).value.value,"onUpdate:modelValue":s[1]||(s[1]=u=>o(d).value.value=u),"error-messages":o(d).errorMessage.value,"append-inner-icon":l.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":w},null,8,["type","modelValue","error-messages","append-inner-icon"]),e(r,{type:"submit",outlined:"",border:"",style:{"background-color":"#f4b942","font-weight":"bold","font-size":"16px"},color:"#000000",class:"my-4 elevation-1 w-33",variant:"solo",loading:o(m)},{default:a(()=>[n(" 登入 ")]),_:1},8,["loading"])]),_:1},8,["disabled","onSubmit"]),e(r,{class:"",ripple:!1,variant:"plain",to:"/register"},{default:a(()=>[n(" 註冊 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{L as default};
