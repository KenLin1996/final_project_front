import{a5 as ke,P as ot,Q as u,R as N,S as t,c as e,V as st,a2 as c,a6 as ae,U as p,Z as d,a7 as lt,a8 as Q,a9 as oe,M as se,N as Ee,x as P,aa as xe,o as I,z as be,W as S,a0 as o,_ as fe,T as A,G as pe,X as F,Y,ab as me,ac as Le,$ as Te,ad as ze,ae as Ve,af as De,ag as Be,A as Re,ah as Fe,a1 as te,a3 as nt,ai as je}from"./index-DRK1-Qlp.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as rt}from"./VChip-BEEAEfKU.js";import{c as Ue,a as Ce,u as qe,b as we}from"./vee-validate.esm-BU0pPeu1.js";import{V as ct}from"./VMenu-tmo9m_Gh.js";import{V as He,a as Oe,b as Ge}from"./VList-B30JeINO.js";import{V as Ye}from"./VForm-DkO-KfFU.js";import{V as Qe}from"./VTextarea-fKr7GPgs.js";import{V as ut,a as it,b as Me,c as dt}from"./VExpansionPanels-DocYKdHH.js";import{V as z,a as _}from"./VRow-BeSSNumG.js";import{V as K}from"./VContainer-Cbd5fH4M.js";import{V as ee}from"./VDivider-D5PvHNFX.js";import"./VSlideGroup-5NmVpzRI.js";const pt={class:"d-flex justify-space-between align-center my-1"},ft={__name:"BookCard",props:["_id","image","title","category","mainAuthor","content","chapterName"],setup(l){const y=ke(),f=r=>{y.push(r)};return(r,x)=>{const U=ot("router-link");return u(),N(oe,{class:"pa-3 customMargin",width:"220"},{default:t(()=>[e(U,{to:"/stories/"+l._id},{default:t(()=>[e(st,{class:"cursor-pointer",height:"150px",src:l.image,cover:""},null,8,["src"])]),_:1},8,["to"]),c("div",pt,[e(ae,{class:"pa-0 text-subtitle-1 cursor-pointer",onClick:x[0]||(x[0]=b=>f("/123"))},{default:t(()=>[p(d(l.title),1)]),_:1}),e(rt,{density:"compact",color:"primary",label:"",style:{"font-size":"12px",padding:"2px 6px"}},{default:t(()=>[p(d(l.category),1)]),_:1})]),e(lt,{class:"pa-0"},{default:t(()=>[p(d(l.content[l.content.length-1].chapterName),1)]),_:1}),e(Q,{class:"pa-0 mb-1 cursor-pointer",style:{"font-size":"12px",color:"#4e9194"},onClick:x[1]||(x[1]=b=>f("/1234"))},{default:t(()=>{var b;return[p(d((b=l.mainAuthor)==null?void 0:b.username),1)]}),_:1}),e(Q,{class:"pa-0"},{default:t(()=>[p(d(l.content[0].content[0]),1)]),_:1})]),_:1})}}},Ae=Se(ft,[["__scopeId","data-v-2366732e"]]);function mt(l){return{all:l=l||new Map,on:function(y,f){var r=l.get(y);r?r.push(f):l.set(y,[f])},off:function(y,f){var r=l.get(y);r&&(f?r.splice(r.indexOf(f)>>>0,1):l.set(y,[]))},emit:function(y,f){var r=l.get(y);r&&r.slice().map(function(x){x(f)}),(r=l.get("*"))&&r.slice().map(function(x){x(y,f)})}}}const he=mt(),ht=l=>(De("data-v-86b721a5"),l=l(),Be(),l),gt={class:"title-row"},_t={class:"title-text"},vt={class:"card-title my-1"},yt={class:"vote-section"},xt={class:"vote-count text-body-2"},bt=ht(()=>c("span",{class:"headline"},"檢舉故事",-1)),Ct={__name:"VoteItem",props:["content","chapterName","author","voteCount","storyId","extensionId","voteStatus","authorId"],setup(l){const{apiAuth:y}=Ve(),f=se(),r=se(),x=Ee(),U=P(!1),b=l,{content:W,author:E,voteStatus:C,voteCount:w,storyId:n,extensionId:q}=xe(b),m=f.userId,D=I(()=>w.value.includes(m)),ne=async k=>{if(!r.isLogin){x({text:"請先登入才能投票",snackbarProps:{color:"red"}});return}try{(await y.patch(`/story/${n.value}/${q.value}`,{voteCountChange:k})).data.hasVotedInOtherExtension||(U.value=!0),he.emit("updateStory")}catch(i){console.log(i),console.error("Error updating vote count:",i)}},L=Ue({report:Ce().required("請描述檢舉原因").min(50,"檢舉不能低於 50 字")}),{handleSubmit:H,isSubmitting:O,resetForm:X}=qe({validationSchema:L,initialValues:{report:""}}),j=we("report"),B=P(!1),re=()=>{B.value=!0},ge=I(()=>{const k=[{title:"檢舉",action:re}];return m===b.authorId&&k.push({title:"刪除",action:ce}),k}),_e=H(async k=>{if(!r.isLogin){x({text:"請先登入才能檢舉",snackbarProps:{color:"red"}});return}try{console.log("檢舉已提交"),B.value=!1}catch(i){console.log(i)}}),ce=async()=>{var k,i;try{await y.delete(`/story/${n.value}/${q.value}/deleteExtensionStory`),x({text:"刪除成功",snackbarProps:{color:"green"}}),he.emit("updateStory")}catch(h){console.log(h),x({text:((i=(k=h==null?void 0:h.response)==null?void 0:k.data)==null?void 0:i.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return be(B,k=>{k||X()}),(k,i)=>(u(),S(F,null,[e(oe,{class:"w-100 px-6 py-2 rounded-lg",style:{border:"1px solid #48a9a6",margin:"16px 0px"}},{default:t(()=>[e(ae,{class:"pa-0"},{default:t(()=>{var h;return[c("div",gt,[c("div",_t,[c("h1",vt,d((h=o(E))==null?void 0:h.username),1)]),c("div",yt,[e(fe,{class:"vote-icon",size:"20"},{default:t(()=>[p("mdi-vote")]),_:1}),c("span",xt,d(l.voteCount.length),1),e(ct,{location:"end"},{activator:t(({props:M})=>[e(A,pe({icon:""},M,{class:"menu-btn",style:{width:"30px",height:"30px",padding:"auto"},variant:"plain"}),{default:t(()=>[e(fe,{size:"20"},{default:t(()=>[p("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:t(()=>[e(He,{class:"pa-0"},{default:t(()=>[(u(!0),S(F,null,Y(o(ge),(M,ue)=>(u(),N(Oe,{class:"px-4 py-1 my-0",key:ue,onClick:$e=>M.action?M.action():null,link:""},{default:t(()=>[e(Ge,null,{default:t(()=>[p(d(M.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])])]}),_:1}),e(Q,{class:"pa-0 mx-7 py-1"},{default:t(()=>{var h;return[p(d((h=o(W))==null?void 0:h[0].latestContent),1)]}),_:1}),e(me,{class:"d-flex justify-end"},{default:t(()=>[e(A,{disabled:o(D)||o(C).hasVoted,style:{"background-color":"#f24e1e",color:"white"},onClick:i[0]||(i[0]=h=>ne(1))},{default:t(()=>[p("投票")]),_:1},8,["disabled"]),e(A,{disabled:!o(D)||o(C).hasVoted&&!o(C).voteThis,style:{"background-color":"#f4b942",color:"black","margin-right":"24px"},onClick:i[1]||(i[1]=h=>ne(-1))},{default:t(()=>[p("取消")]),_:1},8,["disabled"])]),_:1})]),_:1}),e(ze,{modelValue:B.value,"onUpdate:modelValue":i[4]||(i[4]=h=>B.value=h),"max-width":"500px"},{default:t(()=>[e(Ye,{onSubmit:Le(o(_e),["prevent"]),disabled:o(O)},{default:t(()=>[e(oe,null,{default:t(()=>[e(ae,null,{default:t(()=>[bt]),_:1}),e(Q,null,{default:t(()=>[e(Qe,{modelValue:o(j).value.value,"onUpdate:modelValue":i[2]||(i[2]=h=>o(j).value.value=h),"error-messages":o(j).errorMessage.value,label:"請描述檢舉原因",rows:"3","auto-grow":""},null,8,["modelValue","error-messages"])]),_:1}),e(me,null,{default:t(()=>[e(Te),e(A,{color:"blue darken-1",text:"",onClick:i[3]||(i[3]=h=>B.value=!1)},{default:t(()=>[p("取消")]),_:1}),e(A,{color:"blue darken-1",text:"",type:"submit",loading:o(O)},{default:t(()=>[p("提交")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1},8,["modelValue"])],64))}},wt=Se(Ct,[["__scopeId","data-v-86b721a5"]]),le=l=>(De("data-v-98bc4611"),l=l(),Be(),l),kt={class:"text--muted"},Vt={class:"font-weight-black",style:{"font-size":"16px","margin-right":"4px"}},St={key:0,style:{color:"#4e9194","font-size":"14px"}},$t=le(()=>c("br",null,null,-1)),It={key:1,class:"text--danger my-2 d-inline-block font-weight-black",style:{"font-size":"12px"}},Nt=le(()=>c("br",null,null,-1)),Pt={style:{color:"#4e9194","margin-right":"10px","font-size":"14px"}},Wt=le(()=>c("br",null,null,-1)),jt={key:0,class:"my-2 d-inline-block",style:{color:"black","margin-right":"10px"}},Mt=le(()=>c("br",null,null,-1)),At={style:{color:"black","margin-right":"10px"}},Et={style:{"word-wrap":"break-word"}},Lt=le(()=>c("h1",null,"故事投票",-1)),G=1,Tt={__name:"StoryItem",props:{category:String,title:String,mainAuthor:[String,Object],content:{type:Array,default:()=>[]},createdAt:String,extensions:{type:Array,default:()=>[]},_id:String,voteTime:[String,Number],voteStart:[String,Date],voteEnd:[String,Date],totalWordCount:{type:Number,required:!0},extendWordLimit:{type:Number,default:50},chapters:{type:Number,default:1},wordsPerChapter:{type:Number,default:100},currentChapterWordCount:{type:Number,default:0},chapterWordCount:{type:Number,default:0},state:{type:Boolean,default:!1}},emits:["update"],setup(l,{emit:y}){const f=se(),r=se(),x=ke(),U=f.userId,b=y,{apiAuth:W}=Ve(),E=P("");let C=0;const w=Ee(),n=l,{category:q,title:m,mainAuthor:D,createdAt:ne,_id:L}=n,{content:H}=xe(n),O=I(()=>n.state),X=I(()=>H.value&&H.value.length>0&&H.value[H.value.length-1].chapterName||"暫無章節名"),j=I(()=>{const a=n.wordsPerChapter-n.currentChapterWordCount;return a===0?n.extendWordLimit:a<n.extendWordLimit?a:n.extendWordLimit||50}),B=I(()=>[a=>a.length>=G&&a.length<=j.value||`內容字數需在 ${G} 至 ${j.value} 字之間`]),re=I(()=>n.currentChapterWordCount>=n.wordsPerChapter),ge=I(()=>{const a={newChapterContent:Ce().required("故事內容必填").min(G,`故事內容不能少於 ${G} 字`).max(j.value,`故事內容不能超過 ${j.value} 字`)};return re.value&&(a.newChapterName=Ce().required("章節名稱必填").min(1).max(60)),Ue(a)}),{handleSubmit:_e,isSubmitting:ce,resetForm:k}=qe({validationSchema:ge,initialValues:{newChapterContent:"",newChapterName:""}}),i=we("newChapterName"),h=we("newChapterContent"),M=P(!1),ue=I(()=>n.content&&n.content.length>0?n.content[n.content.length-1].content||[]:[]),$e=()=>{const a=(n.content.length-1)*n.wordsPerChapter,g=n.currentChapterWordCount,s=a+g;return Math.max(0,n.totalWordCount-s)},Ie=I(()=>$e()),{extensions:V,voteEnd:ve}=xe(n),Ne=P(!1),ie=P(!1),Xe=async()=>{if(r.isLogin)try{const a=await W.get(`user/checkBookmark/${L}`);Ne.value=a.data.hasCollection,ie.value=a.data.hasCollection}catch(a){console.error("檢查收藏狀態失敗",a)}},Ze=async()=>{if(!r.isLogin){w({text:"請先登入才能收藏",snackbarProps:{color:"red"}});return}try{const a=await W.post("user/addBookmark",{storyId:L});Ne.value=a.data.hasCollection,ie.value=a.data.hasCollection,w({text:a.data.hasCollection?"收藏故事":"取消收藏",snackbarProps:{color:"accent"}})}catch(a){console.error("收藏操作失败",a),w({text:"收藏操作失败",snackbarProps:{color:"red"}})}},Je=I(()=>ie.value?"mdi-heart":"mdi-heart-outline"),Ke=()=>{r.isLogin?M.value=!0:x.push("/login")},de=P(!1),et=async()=>{var a,g,s,v;console.log("mergeHighestVotedStory 開始執行");try{if(!V.value.length){console.log("沒有延續故事可供合併"),b("update");return}if(de.value){b("update");return}if(de.value=!0,!V.value.filter(R=>R.voteCount.length>0).length){console.log("所有延續故事的票數為 0，清空延續故事"),await W.patch(`/story/${L}/clearExtensions`),w({text:"所有延續故事的票數為 0，已清空延續故事",snackbarProps:{color:"red"}}),b("update");return}const T=V.value.reduce((R,Z)=>Z.voteCount.length>R.voteCount.length?Z:R);if(!(T!=null&&T._id))throw new Error("延續故事未找到");n.currentChapterWordCount===n.wordsPerChapter?(console.log("當前章節已達到字數上限，準備創建新章節"),await W.post(`/story/${L}/newChapter`,{newContent:(a=T.content[0])==null?void 0:a.latestContent,newChapterName:T.chapterName}),console.log("觸發 newChapter"),w({text:"已成功創建新章節並合併最高票數的延續故事",snackbarProps:{color:"green"}}),b("update")):(await W.patch(`/story/${L}/merge`,{extensionsId:T._id})).data.isCompleted?(n.state=!0,w({text:"故事已完结！",snackbarProps:{color:"success"}})):w({text:"延续故事已成功合并到主故事中",snackbarProps:{color:"green"}}),console.log("即將觸發 emit update"),b("update"),console.log("已觸發 emit update"),console.log("合併操作完成")}catch($){console.error("合併故事時發生錯誤",((g=$.response)==null?void 0:g.data)||$.message||$),w({text:((v=(s=$==null?void 0:$.response)==null?void 0:s.data)==null?void 0:v.message)||"合併故事時發生錯誤",snackbarProps:{color:"red"}})}finally{console.log("重置 hasMerged "),de.value=!1,b("update")}};let ye=!1;const Pe=async()=>{const a=Date.now(),s=new Date(ve.value).getTime()-a;if(s<=0){clearInterval(C),E.value="",V.value.length>0&&!de.value&&!ye&&(ye=!0,await et(),ye=!1);return}const v=Math.floor(s/1e3),$=Math.floor(v/(24*3600)),T=Math.floor(v%(24*3600)/3600),R=Math.floor(v%3600/60),Z=v%60,J=[];$>0&&J.push(`${$} 天`),T>0&&J.push(`${T} 小時`),R>0&&J.push(`${R} 分`),Z>0&&J.push(`${Z} 秒`),E.value=J.join(" ")},We=()=>{C&&clearInterval(C),Pe(),C=setInterval(Pe,1e3)};Re(()=>{r.isLogin&&Xe(),ve&&We()});const tt=_e(async a=>{var g,s;try{const v=V.value.length===0;await W.post(`/story/${L}`,{chapterName:a.newChapterName,content:a.newChapterContent,voteStart:v?new Date:void 0}),w({text:"延伸內容提交成功",snackbarProps:{color:"green"}}),k(),M.value=!1,b("update")}catch(v){console.log(v),w({text:((s=(g=v==null?void 0:v.response)==null?void 0:g.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}});Fe(()=>{C&&clearInterval(C)}),be(()=>n.content,a=>{ue.value=a[0].content}),be(ve,a=>{a&&We()});const at=a=>{let g=!1,s=!1;for(const v of V.value)v.voteCount.indexOf(U)>-1&&(g=!0,v._id===a._id&&(s=!0));return{hasVoted:g,voteThis:s}};return(a,g)=>(u(),N(dt,{class:"customMb"},{default:t(()=>[e(ut,null,{default:t(()=>[e(it,null,{default:t(()=>[e(z,{"no-gutters":""},{default:t(()=>[e(_,{class:"d-flex align-center justify-center text--secondary",style:{"padding-right":"24px"},cols:"1"},{default:t(()=>[c("div",kt,d(o(q)),1)]),_:1}),e(_,{cols:"8",class:"text--secondary"},{default:t(()=>[c("span",Vt,d(o(m)),1),O.value?(u(),S("span",St," （已完結） ")):te("",!0),$t,o(V)&&o(V).length>0?(u(),S("span",It,"投票倒數計時：")):te("",!0),Nt,c("span",null,d(X.value),1)]),_:1}),e(_,{cols:"3",class:"text-right",style:{color:"#4e9194"}},{default:t(()=>{var s;return[c("span",Pt,d((s=o(D))==null?void 0:s.username),1),Wt,o(V)&&o(V).length>0?(u(),S("span",jt,d(E.value),1)):te("",!0),Mt,c("span",At,d(new Date(o(ne)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})),1)]}),_:1})]),_:1})]),_:1}),e(Me,null,{default:t(()=>[e(z,{style:{padding:"12px"}},{default:t(()=>[e(_,{cols:"12",class:"mt-1 pa-0",style:{"font-size":"8px"}},{default:t(()=>[c("h1",null,d(o(H).length>0?"最新內容":"開始故事")+" ("+d(Ie.value===0?"已結束":`剩餘字數：${Ie.value}`)+") ",1)]),_:1}),e(_,{cols:"12"},{default:t(()=>[e(z,null,{default:t(()=>[e(_,{cols:"1",class:"d-flex align-center justify-center pa-0"},{default:t(()=>[e(A,{text:"",ripple:!1,variant:"text",class:nt(["heart-button pa-0",{filled:ie.value}]),onClick:Ze},{default:t(()=>[e(fe,null,{default:t(()=>[p(d(Je.value),1)]),_:1})]),_:1},8,["class"])]),_:1}),e(_,{cols:"11",class:"pl-0"},{default:t(()=>[c("p",Et,d(ue.value.join("")),1),e(me,null,{default:t(()=>[e(Te),e(A,{color:"secondary",variant:"outlined",onClick:Ke,disabled:O.value},{default:t(()=>[p(d(O.value?"故事已完结":"延續故事"),1)]),_:1},8,["disabled"])]),_:1}),e(ze,{modelValue:M.value,"onUpdate:modelValue":g[3]||(g[3]=s=>M.value=s),"max-width":"500"},{default:t(()=>[e(Ye,{onSubmit:Le(o(tt),["prevent"]),disabled:o(ce)},{default:t(()=>[e(oe,null,{default:t(()=>[e(ae,{class:"text-center",style:{"background-color":"#97d8c4"}},{default:t(()=>[p("延續故事")]),_:1}),e(Q,{class:"py-4 pb-0"},{default:t(()=>[re.value?(u(),N(je,{key:0,modelValue:o(i).value.value,"onUpdate:modelValue":g[0]||(g[0]=s=>o(i).value.value=s),class:"mb-4",label:"輸入章節名稱","hide-details":"",minlength:1,maxlength:60},null,8,["modelValue"])):(u(),N(je,{key:1,modelValue:X.value,"onUpdate:modelValue":g[1]||(g[1]=s=>X.value=s),class:"mb-4",label:"當前章節名稱","hide-details":"",disabled:""},null,8,["modelValue"])),e(Qe,{modelValue:o(h).value.value,"onUpdate:modelValue":g[2]||(g[2]=s=>o(h).value.value=s),label:`故事內容（字數：${G} - ${j.value} 字）`,rows:"10",minlength:G,maxlength:j.value,counter:"","auto-grow":"",rules:B.value,style:{"margin-bottom":"8px"}},null,8,["modelValue","label","maxlength","rules"])]),_:1}),e(me,{class:"justify-center align-start py-0"},{default:t(()=>[e(A,{style:{"background-color":"#4e9194",color:"#000000"},type:"submit",loading:o(ce)},{default:t(()=>[p("發布")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(V)&&o(V).length>0?(u(),N(Me,{key:0},{default:t(()=>[e(_,{cols:"12",class:"mt-1 mb-3 pa-0",style:{"font-size":"8px"}},{default:t(()=>[Lt]),_:1}),(u(!0),S(F,null,Y(o(V).slice(0,5),(s,v)=>(u(),N(wt,{key:v,storyId:o(L),authorId:s.author._id,extensionId:s._id,content:s.content,chapterName:s.chapterName,author:s.author,voteCount:s.voteCount,voteStatus:at(s)},null,8,["storyId","authorId","extensionId","content","chapterName","author","voteCount","voteStatus"]))),128))]),_:1})):te("",!0)]),_:1})]),_:1}))}},zt=Se(Tt,[["__scopeId","data-v-98bc4611"]]),Dt={class:"pa-0 px-4"},Bt=c("h2",null,"追蹤故事",-1),Rt=c("h2",null,"熱門故事",-1),Ft=c("h2",null,"最新故事",-1),Ut=c("h2",null,"完結故事",-1),qt={key:1,class:""},Ht=c("h2",null,"創作資源區",-1),la={__name:"index",setup(l){const y=se(),{api:f}=Ve(),r=P([]),x=ke(),U=()=>{y.isLogin?x.push("/createStory"):x.push("/login")},b=P([]),W=P([]),E=P([]),C=async()=>{try{const{data:n}=await f.get("/story");r.value=n.result.data;const q=await f.get("/story/getPopularStories");b.value=q.data.result.data;const m=await f.get("/story/getNewestStories");W.value=m.data.result.data;const D=await f.get("/story/getCompletedStories");E.value=D.data.result.data}catch(n){console.error("Failed to load stories:",n)}},w=[{to:"/articleArea",icon:"mdi-lightbulb-on-outline",title:"創作指引",color:"#F9A825"}];return Re(()=>{C(),he.on("updateStory",C)}),Fe(()=>{he.off("updateStory",C)}),(n,q)=>(u(),S(F,null,[e(z,null,{default:t(()=>[e(_,{cols:"12"},{default:t(()=>[e(oe,{class:"rounded-0 px-10 py-auto",height:"200px",color:"surface-variant",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?q=80&w=2948&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",cover:"",elevation:"5"},{default:t(()=>[e(_,null,{default:t(()=>[e(ae,{class:"text-h4 font-weight-bold"},{default:t(()=>[p(" 歡迎來到界筆！ ")]),_:1}),e(Q,{class:"font-weight-bold pa-0 py-2 px-4 mb-2",style:{"font-size":"24px","letter-spacing":"12px"}},{default:t(()=>[p(" 探索和創作無限可能的故事 ")]),_:1}),c("div",Dt,[e(A,{class:"font-weight-black mr-3 px-4",variant:"elevated",color:"#CCB78E",onClick:U,to:"/createStory"},{default:t(()=>[p(" 立即創作 ")]),_:1}),e(A,{class:"font-weight-black px-4",outlined:"",border:"",variant:"elevated",style:{color:"#ccb78e",border:"1px solid #ccb78e","background-color":"rgba(0, 0, 0, 0.47)"},to:"/category"},{default:t(()=>[p(" 探索故事 ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),o(y).isLogin?(u(),N(K,{key:0,style:{padding:"32px"}},{default:t(()=>[e(z,{class:"justify-space-between"},{default:t(()=>[e(_,{cols:"12",class:"pb-0"},{default:t(()=>[Bt]),_:1}),e(ee,{class:"mb-3"}),e(_,{cols:"12",class:"d-flex flex-column justify-space-between"},{default:t(()=>[(u(!0),S(F,null,Y(r.value,m=>(u(),N(zt,pe({key:m._id,ref_for:!0},m,{onUpdate:C}),null,16))),128))]),_:1})]),_:1})]),_:1})):te("",!0),e(K,{style:{padding:"32px"}},{default:t(()=>[e(z,{class:"justify-space-between"},{default:t(()=>[e(_,{cols:"12",class:"pb-0"},{default:t(()=>[Rt]),_:1}),e(ee,{class:"mb-3"}),e(_,{cols:"12",class:"d-flex flex-row justify-start"},{default:t(()=>[(u(!0),S(F,null,Y(b.value,m=>(u(),N(Ae,pe({key:m._id,ref_for:!0},m),null,16))),128))]),_:1})]),_:1})]),_:1}),e(K,{style:{padding:"32px"}},{default:t(()=>[e(z,{class:"justify-space-between"},{default:t(()=>[e(_,{cols:"12",class:"pb-0"},{default:t(()=>[Ft]),_:1}),e(ee,{class:"mb-3"}),e(_,{cols:"12",class:"d-flex flex-column justify-space-between"})]),_:1})]),_:1}),e(K,{style:{padding:"32px"}},{default:t(()=>[e(z,{class:"justify-space-between"},{default:t(()=>[e(_,{cols:"12",class:"pb-0"},{default:t(()=>[Ut]),_:1}),e(ee,{class:"mb-3"}),e(_,{cols:"12",class:"d-flex flex-row justify-space-between"},{default:t(()=>[E.value.length>0?(u(!0),S(F,{key:0},Y(E.value,m=>(u(),N(Ae,pe({key:m._id,ref_for:!0},m),null,16))),128)):(u(),S("div",qt,"尚未有已完結故事"))]),_:1})]),_:1})]),_:1}),e(K,{style:{padding:"32px"}},{default:t(()=>[e(z,{class:"justify-space-between"},{default:t(()=>[e(_,{cols:"12",class:"pb-0"},{default:t(()=>[Ht]),_:1}),e(ee,{class:"mb-3"}),e(_,{cols:"12",class:"d-flex flex-row justify-space-between py-0"},{default:t(()=>[e(He,{class:"d-flex justify-space-between w-100 py-0",style:{"background-color":"transparent"}},{default:t(()=>[(u(),S(F,null,Y(w,(m,D)=>e(Oe,{key:D,to:m.to,link:""},{prepend:t(()=>[e(fe,{size:"80",color:m.color},{default:t(()=>[p(d(m.icon),1)]),_:2},1032,["color"])]),default:t(()=>[e(Ge,{style:{"font-size":"20px","font-weight":"bold"},textContent:d(m.title)},null,8,["textContent"])]),_:2},1032,["to"])),64))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{la as default};
