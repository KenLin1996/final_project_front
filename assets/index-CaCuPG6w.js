import{P as st,Q as r,R as N,S as t,c as e,a5 as se,V as lt,a2 as c,a6 as le,U as f,Z as p,a7 as nt,a8 as Q,M as ne,N as Ee,x as P,a9 as xe,o as j,z as be,W as S,a0 as o,_ as fe,T as E,G as ae,X as B,Y as H,aa as me,ab as Le,$ as ze,ac as Te,ad as ke,ae as Be,af as De,ag as Re,A as Fe,ah as Ue,a1 as oe,a3 as rt,ai as We}from"./index-mn7cIsBz.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ct}from"./VChip-D5g_C3dw.js";import{c as qe,a as Ce,u as He,b as we}from"./vee-validate.esm-BDIcpaIM.js";import{V as ut}from"./VMenu-BX8iDKYo.js";import{V as Oe,a as Ge,b as Ye}from"./VList-D_-ioeJJ.js";import{V as Qe}from"./VForm-BdnRm6sg.js";import{V as Xe}from"./VTextarea-Dt3M-71O.js";import{V as it,a as dt,b as je,c as pt}from"./VExpansionPanels-TPMzjVdD.js";import{V as D,a as g}from"./VRow-DFEZzFSD.js";import{V as ee}from"./VContainer-otX76Oty.js";import{V as te}from"./VDivider-DRSeHq8s.js";import"./VSlideGroup-uQUdgJhI.js";const ft={class:"d-flex justify-space-between align-center my-1"},mt={__name:"BookCard",props:["_id","image","title","category","mainAuthor","content","chapterName"],setup(n){return(v,y)=>{const u=st("router-link");return r(),N(u,{to:"/stories/"+n._id,style:{"text-decoration":"none"}},{default:t(()=>[e(se,{class:"pa-3 customMargin h-100 me-2",width:"220"},{default:t(()=>[e(lt,{class:"cursor-pointer",height:"150px",src:n.image,cover:""},null,8,["src"]),c("div",ft,[e(le,{class:"pa-0 text-subtitle-1 cursor-pointer",style:{width:"135px"}},{default:t(()=>[f(p(n.title),1)]),_:1}),e(ct,{density:"compact",color:"primary",label:"",style:{"font-size":"12px",padding:"2px 6px"}},{default:t(()=>[f(p(n.category),1)]),_:1})]),e(nt,{class:"pa-0"},{default:t(()=>[f(p(n.content[n.content.length-1].chapterName),1)]),_:1}),e(Q,{class:"pa-0 mb-1 cursor-pointer",style:{"font-size":"12px",color:"#4e9194"}},{default:t(()=>{var x;return[f(p((x=n.mainAuthor)==null?void 0:x.username),1)]}),_:1}),e(Q,{class:"pa-0"},{default:t(()=>[f(p(n.content[0].content[0]),1)]),_:1})]),_:1})]),_:1},8,["to"])}}},Me=Ve(mt,[["__scopeId","data-v-ac4f8115"]]);function ht(n){return{all:n=n||new Map,on:function(v,y){var u=n.get(v);u?u.push(y):n.set(v,[y])},off:function(v,y){var u=n.get(v);u&&(y?u.splice(u.indexOf(y)>>>0,1):n.set(v,[]))},emit:function(v,y){var u=n.get(v);u&&u.slice().map(function(x){x(y)}),(u=n.get("*"))&&u.slice().map(function(x){x(v,y)})}}}const he=ht(),gt=n=>(Be("data-v-86b721a5"),n=n(),De(),n),_t={class:"title-row"},yt={class:"title-text"},vt={class:"card-title my-1"},xt={class:"vote-section"},bt={class:"vote-count text-body-2"},Ct=gt(()=>c("span",{class:"headline"},"檢舉故事",-1)),wt={__name:"VoteItem",props:["content","chapterName","author","voteCount","storyId","extensionId","voteStatus","authorId"],setup(n){const{apiAuth:v}=ke(),y=ne(),u=ne(),x=Ee(),X=P(!1),C=n,{content:I,author:R,voteStatus:$,voteCount:b,storyId:s,extensionId:O}=xe(C),L=y.userId,q=j(()=>b.value.includes(L)),i=async k=>{if(!u.isLogin){x({text:"請先登入才能投票",snackbarProps:{color:"red"}});return}try{(await v.patch(`/story/${s.value}/${O.value}`,{voteCountChange:k})).data.hasVotedInOtherExtension||(X.value=!0),he.emit("updateStory")}catch(d){console.log(d),console.error("Error updating vote count:",d)}},w=qe({report:Ce().required("請描述檢舉原因").min(50,"檢舉不能低於 50 字")}),{handleSubmit:z,isSubmitting:G,resetForm:Z}=He({validationSchema:w,initialValues:{report:""}}),M=we("report"),F=P(!1),ce=()=>{F.value=!0},ge=j(()=>{const k=[{title:"檢舉",action:ce}];return L===C.authorId&&k.push({title:"刪除",action:ue}),k}),_e=z(async k=>{if(!u.isLogin){x({text:"請先登入才能檢舉",snackbarProps:{color:"red"}});return}try{console.log("檢舉已提交"),F.value=!1}catch(d){console.log(d)}}),ue=async()=>{var k,d;try{await v.delete(`/story/${s.value}/${O.value}/deleteExtensionStory`),x({text:"刪除成功",snackbarProps:{color:"green"}}),he.emit("updateStory")}catch(m){console.log(m),x({text:((d=(k=m==null?void 0:m.response)==null?void 0:k.data)==null?void 0:d.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return be(F,k=>{k||Z()}),(k,d)=>(r(),S(B,null,[e(se,{class:"w-100 px-6 py-2 rounded-lg",style:{border:"1px solid #48a9a6",margin:"16px 0px"}},{default:t(()=>[e(le,{class:"pa-0"},{default:t(()=>{var m;return[c("div",_t,[c("div",yt,[c("h1",vt,p((m=o(R))==null?void 0:m.username),1)]),c("div",xt,[e(fe,{class:"vote-icon",size:"20"},{default:t(()=>[f("mdi-vote")]),_:1}),c("span",bt,p(n.voteCount.length),1),e(ut,{location:"end"},{activator:t(({props:A})=>[e(E,ae({icon:""},A,{class:"menu-btn",style:{width:"30px",height:"30px",padding:"auto"},variant:"plain"}),{default:t(()=>[e(fe,{size:"20"},{default:t(()=>[f("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:t(()=>[e(Oe,{class:"pa-0"},{default:t(()=>[(r(!0),S(B,null,H(o(ge),(A,ie)=>(r(),N(Ge,{class:"px-4 py-1 my-0",key:ie,onClick:Se=>A.action?A.action():null,link:""},{default:t(()=>[e(Ye,null,{default:t(()=>[f(p(A.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])])]}),_:1}),e(Q,{class:"pa-0 mx-7 py-1"},{default:t(()=>{var m;return[f(p((m=o(I))==null?void 0:m[0].latestContent),1)]}),_:1}),e(me,{class:"d-flex justify-end"},{default:t(()=>[e(E,{disabled:o(q)||o($).hasVoted,style:{"background-color":"#f24e1e",color:"white"},onClick:d[0]||(d[0]=m=>i(1))},{default:t(()=>[f("投票")]),_:1},8,["disabled"]),e(E,{disabled:!o(q)||o($).hasVoted&&!o($).voteThis,style:{"background-color":"#f4b942",color:"black","margin-right":"24px"},onClick:d[1]||(d[1]=m=>i(-1))},{default:t(()=>[f("取消")]),_:1},8,["disabled"])]),_:1})]),_:1}),e(Te,{modelValue:F.value,"onUpdate:modelValue":d[4]||(d[4]=m=>F.value=m),"max-width":"500px"},{default:t(()=>[e(Qe,{onSubmit:Le(o(_e),["prevent"]),disabled:o(G)},{default:t(()=>[e(se,null,{default:t(()=>[e(le,null,{default:t(()=>[Ct]),_:1}),e(Q,null,{default:t(()=>[e(Xe,{modelValue:o(M).value.value,"onUpdate:modelValue":d[2]||(d[2]=m=>o(M).value.value=m),"error-messages":o(M).errorMessage.value,label:"請描述檢舉原因",rows:"3","auto-grow":""},null,8,["modelValue","error-messages"])]),_:1}),e(me,null,{default:t(()=>[e(ze),e(E,{color:"blue darken-1",text:"",onClick:d[3]||(d[3]=m=>F.value=!1)},{default:t(()=>[f("取消")]),_:1}),e(E,{color:"blue darken-1",text:"",type:"submit",loading:o(G)},{default:t(()=>[f("提交")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1},8,["modelValue"])],64))}},kt=Ve(wt,[["__scopeId","data-v-86b721a5"]]),re=n=>(Be("data-v-98bc4611"),n=n(),De(),n),Vt={class:"text--muted"},St={class:"font-weight-black",style:{"font-size":"16px","margin-right":"4px"}},It={key:0,style:{color:"#4e9194","font-size":"14px"}},$t=re(()=>c("br",null,null,-1)),Nt={key:1,class:"text--danger my-2 d-inline-block font-weight-black",style:{"font-size":"12px"}},Pt=re(()=>c("br",null,null,-1)),Wt={style:{color:"#4e9194","margin-right":"10px","font-size":"14px"}},jt=re(()=>c("br",null,null,-1)),Mt={key:0,class:"my-2 d-inline-block",style:{color:"black","margin-right":"10px"}},At=re(()=>c("br",null,null,-1)),Et={style:{color:"black","margin-right":"10px"}},Lt={style:{"word-wrap":"break-word"}},zt=re(()=>c("h1",null,"故事投票",-1)),Y=1,Tt={__name:"StoryItem",props:{category:String,title:String,mainAuthor:[String,Object],content:{type:Array,default:()=>[]},createdAt:String,extensions:{type:Array,default:()=>[]},_id:String,voteTime:[String,Number],voteStart:[String,Date],voteEnd:[String,Date],totalWordCount:{type:Number,required:!0},extendWordLimit:{type:Number,default:50},chapters:{type:Number,default:1},wordsPerChapter:{type:Number,default:100},currentChapterWordCount:{type:Number,default:0},chapterWordCount:{type:Number,default:0},state:{type:Boolean,default:!1}},emits:["update"],setup(n,{emit:v}){const y=ne(),u=ne(),x=Re(),X=y.userId,C=v,{apiAuth:I}=ke(),R=P("");let $=0;const b=Ee(),s=n,{category:O,title:L,mainAuthor:q,createdAt:i,_id:w}=s,{content:z}=xe(s),G=j(()=>s.state),Z=j(()=>z.value&&z.value.length>0&&z.value[z.value.length-1].chapterName||"暫無章節名"),M=j(()=>{const a=s.wordsPerChapter-s.currentChapterWordCount;return a===0?s.extendWordLimit:a<s.extendWordLimit?a:s.extendWordLimit||50}),F=j(()=>[a=>a.length>=Y&&a.length<=M.value||`內容字數需在 ${Y} 至 ${M.value} 字之間`]),ce=j(()=>s.currentChapterWordCount>=s.wordsPerChapter),ge=j(()=>{const a={newChapterContent:Ce().required("故事內容必填").min(Y,`故事內容不能少於 ${Y} 字`).max(M.value,`故事內容不能超過 ${M.value} 字`)};return ce.value&&(a.newChapterName=Ce().required("章節名稱必填").min(1).max(60)),qe(a)}),{handleSubmit:_e,isSubmitting:ue,resetForm:k}=He({validationSchema:ge,initialValues:{newChapterContent:"",newChapterName:""}}),d=we("newChapterName"),m=we("newChapterContent"),A=P(!1),ie=j(()=>s.content&&s.content.length>0?s.content[s.content.length-1].content||[]:[]),Se=()=>{const a=(s.content.length-1)*s.wordsPerChapter,h=s.currentChapterWordCount,l=a+h;return Math.max(0,s.totalWordCount-l)},Ie=j(()=>Se()),{extensions:V,voteEnd:ye}=xe(s),$e=P(!1),de=P(!1),Ze=async()=>{if(u.isLogin)try{const a=await I.get(`user/checkBookmark/${w}`);$e.value=a.data.hasCollection,de.value=a.data.hasCollection}catch(a){console.error("檢查收藏狀態失敗",a)}},Je=async()=>{if(!u.isLogin){b({text:"請先登入才能收藏",snackbarProps:{color:"red"}});return}try{const a=await I.post("user/addBookmark",{storyId:w});$e.value=a.data.hasCollection,de.value=a.data.hasCollection,b({text:a.data.hasCollection?"收藏故事":"取消收藏",snackbarProps:{color:"accent"}})}catch(a){console.error("收藏操作失败",a),b({text:"收藏操作失败",snackbarProps:{color:"red"}})}},Ke=j(()=>de.value?"mdi-heart":"mdi-heart-outline"),et=()=>{u.isLogin?A.value=!0:x.push("/login")},pe=P(!1),tt=async()=>{var a,h,l,_;console.log("mergeHighestVotedStory 開始執行");try{if(!V.value.length){console.log("沒有延續故事可供合併"),C("update");return}if(pe.value){C("update");return}if(pe.value=!0,!V.value.filter(U=>U.voteCount.length>0).length){console.log("所有延續故事的票數為 0，清空延續故事"),await I.patch(`/story/${w}/clearExtensions`),b({text:"所有延續故事的票數為 0，已清空延續故事",snackbarProps:{color:"red"}}),C("update");return}const T=V.value.reduce((U,J)=>J.voteCount.length>U.voteCount.length?J:U);if(!(T!=null&&T._id))throw new Error("延續故事未找到");s.currentChapterWordCount===s.wordsPerChapter?(console.log("當前章節已達到字數上限，準備創建新章節"),await I.post(`/story/${w}/newChapter`,{newContent:(a=T.content[0])==null?void 0:a.latestContent,newChapterName:T.chapterName}),console.log("觸發 newChapter"),b({text:"已成功創建新章節並合併最高票數的延續故事",snackbarProps:{color:"green"}}),C("update")):(await I.patch(`/story/${w}/merge`,{extensionsId:T._id})).data.isCompleted?(s.state=!0,b({text:"故事已完结！",snackbarProps:{color:"success"}})):b({text:"延续故事已成功合并到主故事中",snackbarProps:{color:"green"}}),console.log("即將觸發 emit update"),C("update"),console.log("已觸發 emit update"),console.log("合併操作完成")}catch(W){console.error("合併故事時發生錯誤",((h=W.response)==null?void 0:h.data)||W.message||W),b({text:((_=(l=W==null?void 0:W.response)==null?void 0:l.data)==null?void 0:_.message)||"合併故事時發生錯誤",snackbarProps:{color:"red"}})}finally{console.log("重置 hasMerged "),pe.value=!1,C("update")}};let ve=!1;const Ne=async()=>{const a=Date.now(),l=new Date(ye.value).getTime()-a;if(l<=0){clearInterval($),R.value="",V.value.length>0&&!pe.value&&!ve&&(ve=!0,await tt(),ve=!1);return}const _=Math.floor(l/1e3),W=Math.floor(_/(24*3600)),T=Math.floor(_%(24*3600)/3600),U=Math.floor(_%3600/60),J=_%60,K=[];W>0&&K.push(`${W} 天`),T>0&&K.push(`${T} 小時`),U>0&&K.push(`${U} 分`),J>0&&K.push(`${J} 秒`),R.value=K.join(" ")},Pe=()=>{$&&clearInterval($),Ne(),$=setInterval(Ne,1e3)};Fe(()=>{u.isLogin&&Ze(),ye&&Pe()});const at=_e(async a=>{var h,l;try{const _=V.value.length===0;await I.post(`/story/${w}`,{chapterName:a.newChapterName,content:a.newChapterContent,voteStart:_?new Date:void 0}),b({text:"延伸內容提交成功",snackbarProps:{color:"green"}}),k(),A.value=!1,C("update")}catch(_){console.log(_),b({text:((l=(h=_==null?void 0:_.response)==null?void 0:h.data)==null?void 0:l.message)||"發生錯誤",snackbarProps:{color:"red"}})}});Ue(()=>{$&&clearInterval($)}),be(()=>s.content,a=>{ie.value=a[0].content}),be(ye,a=>{a&&Pe()});const ot=a=>{let h=!1,l=!1;for(const _ of V.value)_.voteCount.indexOf(X)>-1&&(h=!0,_._id===a._id&&(l=!0));return{hasVoted:h,voteThis:l}};return(a,h)=>(r(),N(pt,{class:"customMb"},{default:t(()=>[e(it,null,{default:t(()=>[e(dt,null,{default:t(()=>[e(D,{"no-gutters":""},{default:t(()=>[e(g,{class:"d-flex align-center justify-center text--secondary",style:{"padding-right":"24px"},cols:"1"},{default:t(()=>[c("div",Vt,p(o(O)),1)]),_:1}),e(g,{cols:"8",class:"text--secondary"},{default:t(()=>[c("span",St,p(o(L)),1),G.value?(r(),S("span",It," （已完結） ")):oe("",!0),$t,o(V)&&o(V).length>0?(r(),S("span",Nt,"投票倒數計時：")):oe("",!0),Pt,c("span",null,p(Z.value),1)]),_:1}),e(g,{cols:"3",class:"text-right",style:{color:"#4e9194"}},{default:t(()=>{var l;return[c("span",Wt,p((l=o(q))==null?void 0:l.username),1),jt,o(V)&&o(V).length>0?(r(),S("span",Mt,p(R.value),1)):oe("",!0),At,c("span",Et,p(new Date(o(i)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})),1)]}),_:1})]),_:1})]),_:1}),e(je,null,{default:t(()=>[e(D,{style:{padding:"12px"}},{default:t(()=>[e(g,{cols:"12",class:"mt-1 pa-0",style:{"font-size":"8px"}},{default:t(()=>[c("h1",null,p(o(z).length>0?"最新內容":"開始故事")+" ("+p(Ie.value===0?"已結束":`剩餘字數：${Ie.value}`)+") ",1)]),_:1}),e(g,{cols:"12"},{default:t(()=>[e(D,null,{default:t(()=>[e(g,{cols:"1",class:"d-flex align-center justify-center pa-0"},{default:t(()=>[e(E,{text:"",ripple:!1,variant:"text",class:rt(["heart-button pa-0",{filled:de.value}]),onClick:Je},{default:t(()=>[e(fe,null,{default:t(()=>[f(p(Ke.value),1)]),_:1})]),_:1},8,["class"])]),_:1}),e(g,{cols:"11",class:"pl-0"},{default:t(()=>[c("p",Lt,p(ie.value.join("")),1),e(me,null,{default:t(()=>[e(ze),e(E,{color:"secondary",variant:"outlined",onClick:et,disabled:G.value},{default:t(()=>[f(p(G.value?"故事已完结":"延續故事"),1)]),_:1},8,["disabled"])]),_:1}),e(Te,{modelValue:A.value,"onUpdate:modelValue":h[3]||(h[3]=l=>A.value=l),"max-width":"500"},{default:t(()=>[e(Qe,{onSubmit:Le(o(at),["prevent"]),disabled:o(ue)},{default:t(()=>[e(se,null,{default:t(()=>[e(le,{class:"text-center",style:{"background-color":"#97d8c4"}},{default:t(()=>[f("延續故事")]),_:1}),e(Q,{class:"py-4 pb-0"},{default:t(()=>[ce.value?(r(),N(We,{key:0,modelValue:o(d).value.value,"onUpdate:modelValue":h[0]||(h[0]=l=>o(d).value.value=l),class:"mb-4",label:"輸入章節名稱","hide-details":"",minlength:1,maxlength:60},null,8,["modelValue"])):(r(),N(We,{key:1,modelValue:Z.value,"onUpdate:modelValue":h[1]||(h[1]=l=>Z.value=l),class:"mb-4",label:"當前章節名稱","hide-details":"",disabled:""},null,8,["modelValue"])),e(Xe,{modelValue:o(m).value.value,"onUpdate:modelValue":h[2]||(h[2]=l=>o(m).value.value=l),label:`故事內容（字數：${Y} - ${M.value} 字）`,rows:"10",minlength:Y,maxlength:M.value,counter:"","auto-grow":"",rules:F.value,style:{"margin-bottom":"8px"}},null,8,["modelValue","label","maxlength","rules"])]),_:1}),e(me,{class:"justify-center align-start py-0"},{default:t(()=>[e(E,{style:{"background-color":"#4e9194",color:"#000000"},type:"submit",loading:o(ue)},{default:t(()=>[f("發布")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(V)&&o(V).length>0?(r(),N(je,{key:0},{default:t(()=>[e(g,{cols:"12",class:"mt-1 mb-3 pa-0",style:{"font-size":"8px"}},{default:t(()=>[zt]),_:1}),(r(!0),S(B,null,H(o(V).slice(0,5),(l,_)=>(r(),N(kt,{key:_,storyId:o(w),authorId:l.author._id,extensionId:l._id,content:l.content,chapterName:l.chapterName,author:l.author,voteCount:l.voteCount,voteStatus:ot(l)},null,8,["storyId","authorId","extensionId","content","chapterName","author","voteCount","voteStatus"]))),128))]),_:1})):oe("",!0)]),_:1})]),_:1}))}},Ae=Ve(Tt,[["__scopeId","data-v-98bc4611"]]),Bt={class:"pa-0 px-4"},Dt=c("h2",null,"收藏故事",-1),Rt=c("h2",null,"熱門故事",-1),Ft=c("h2",null,"最新故事",-1),Ut=c("h2",null,"完結故事",-1),qt={key:1,class:""},Ht=c("h2",null,"創作資源區",-1),la={__name:"index",setup(n){const v=ne(),{api:y,apiAuth:u}=ke(),x=Re(),X=()=>{v.isLogin?x.push("/createStory"):x.push("/login")},C=P([]),I=P([]),R=P([]),$=P([]),b=P([]),s=async()=>{try{const{data:L}=await y.get("/story");C.value=L.result.data;const q=await y.get("/story/getPopularStories");R.value=q.data.result.data;const i=await y.get("/story/getNewestStories");$.value=i.data.result.data;const w=await y.get("/story/getCompletedStories");b.value=w.data.result.data;const z=await u.get("/story/getBookmarkStories");I.value=z.data.result.data,console.log("bookmarkStories 的值：",I)}catch(L){console.error("Failed to load stories:",L)}},O=[{to:"/articleArea",icon:"mdi-lightbulb-on-outline",title:"創作指引",color:"#F9A825"}];return Fe(()=>{s(),he.on("updateStory",s)}),Ue(()=>{he.off("updateStory",s)}),(L,q)=>(r(),S(B,null,[e(D,null,{default:t(()=>[e(g,{cols:"12"},{default:t(()=>[e(se,{class:"rounded-0 px-10 py-auto",height:"200px",color:"surface-variant",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?q=80&w=2948&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",cover:"",elevation:"5"},{default:t(()=>[e(g,null,{default:t(()=>[e(le,{class:"text-h4 font-weight-bold"},{default:t(()=>[f(" 歡迎來到界筆！ ")]),_:1}),e(Q,{class:"font-weight-bold pa-0 py-2 px-4 mb-2",style:{"font-size":"24px","letter-spacing":"12px"}},{default:t(()=>[f(" 探索和創作無限可能的故事 ")]),_:1}),c("div",Bt,[e(E,{class:"font-weight-black mr-3 px-4",variant:"elevated",color:"#CCB78E",onClick:X,to:"/createStory"},{default:t(()=>[f(" 立即創作 ")]),_:1}),e(E,{class:"font-weight-black px-4",outlined:"",border:"",variant:"elevated",style:{color:"#ccb78e",border:"1px solid #ccb78e","background-color":"rgba(0, 0, 0, 0.47)"},to:"/category"},{default:t(()=>[f(" 探索故事 ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),o(v).isLogin?(r(),N(ee,{key:0,style:{padding:"32px"}},{default:t(()=>[e(D,{class:"justify-space-between"},{default:t(()=>[e(g,{cols:"12",class:"pb-0"},{default:t(()=>[Dt]),_:1}),e(te,{class:"mb-3"}),e(g,{cols:"12",class:"d-flex flex-column justify-space-between"},{default:t(()=>[(r(!0),S(B,null,H(I.value,i=>(r(),N(Ae,ae({key:i._id,ref_for:!0},i,{onUpdate:s}),null,16))),128))]),_:1})]),_:1})]),_:1})):oe("",!0),e(ee,{style:{padding:"32px"}},{default:t(()=>[e(D,{class:"justify-space-between"},{default:t(()=>[e(g,{cols:"12",class:"pb-0"},{default:t(()=>[Rt]),_:1}),e(te,{class:"mb-3"}),e(g,{cols:"12",class:"d-flex flex-row justify-start"},{default:t(()=>[(r(!0),S(B,null,H(R.value,i=>(r(),N(Me,ae({key:i._id,ref_for:!0},i),null,16))),128))]),_:1})]),_:1})]),_:1}),e(ee,{style:{padding:"32px"}},{default:t(()=>[e(D,{class:"justify-space-between"},{default:t(()=>[e(g,{cols:"12",class:"pb-0"},{default:t(()=>[Ft]),_:1}),e(te,{class:"mb-3"}),e(g,{cols:"12",class:"d-flex flex-column justify-space-between"},{default:t(()=>[(r(!0),S(B,null,H(C.value,i=>(r(),N(Ae,ae({key:i._id,ref_for:!0},i,{onUpdate:s}),null,16))),128))]),_:1})]),_:1})]),_:1}),e(ee,{style:{padding:"32px"}},{default:t(()=>[e(D,{class:"justify-space-between"},{default:t(()=>[e(g,{cols:"12",class:"pb-0"},{default:t(()=>[Ut]),_:1}),e(te,{class:"mb-3"}),e(g,{cols:"12",class:"d-flex flex-row justify-space-between"},{default:t(()=>[b.value.length>0?(r(!0),S(B,{key:0},H(b.value,i=>(r(),N(Me,ae({key:i._id,ref_for:!0},i),null,16))),128)):(r(),S("div",qt,"尚未有已完結故事"))]),_:1})]),_:1})]),_:1}),e(ee,{style:{padding:"32px"}},{default:t(()=>[e(D,{class:"justify-space-between"},{default:t(()=>[e(g,{cols:"12",class:"pb-0"},{default:t(()=>[Ht]),_:1}),e(te,{class:"mb-3"}),e(g,{cols:"12",class:"d-flex flex-row justify-space-between py-0"},{default:t(()=>[e(Oe,{class:"d-flex justify-space-between w-100 py-0",style:{"background-color":"transparent"}},{default:t(()=>[(r(),S(B,null,H(O,(i,w)=>e(Ge,{key:w,to:i.to,link:""},{prepend:t(()=>[e(fe,{size:"80",color:i.color},{default:t(()=>[f(p(i.icon),1)]),_:2},1032,["color"])]),default:t(()=>[e(Ye,{style:{"font-size":"20px","font-weight":"bold"},textContent:p(i.title)},null,8,["textContent"])]),_:2},1032,["to"])),64))]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{la as default};
