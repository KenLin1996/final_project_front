import{bM as N,x as A,Q as y,R as e,P as i,c as t,V as u,a0 as s,Y as o,T as r,a5 as _,S as d,U as w,X as k,W as C,ak as m,ac as W}from"./index-BQtH6iZV.js";import{V as L}from"./VContainer-BM79zw4O.js";import{V as p,a as c}from"./VRow-BcLcHuOe.js";import{V as h}from"./VChip-CvazLWZ2.js";import{V as v}from"./VDivider-C5116G8z.js";import{V as T}from"./VTextarea-DVEBbIvj.js";import"./VSlideGroup-ClZW227d.js";const q={class:"blue--text text-h5"},B=s("strong",null,"作者：",-1),M={class:"blue--text"},R=s("strong",null,"類別：",-1),z=s("strong",null,"狀態：",-1),E={class:"orange--text"},G=s("strong",null,"總字數：",-1),K={class:"grey--text"},O={class:"my-2"},Q=s("h3",{class:""},"起始故事",-1),X={class:"py-4"},D=s("h3",{class:"pa-4",style:{"background-color":"rgb(146 224 227)"}},"留言區",-1),F={class:""},H={class:"pa-4"},I=s("span",null,"貓界阿宅",-1),S=s("p",{class:"ml-13 text-body-2"},"這是本喵看過最好看的喵喵喵喵書",-1),Y={class:"pa-4"},Z=s("span",null,"黑嚕嚕咕嚕嚕",-1),j=s("p",{class:"ml-13 text-body-2"},"喵喵喵可以趕快更新嗎",-1),J={class:"pa-4"},rt={__name:"index",setup(P){const{api:b}=W(),x=N(),a=A({_id:"",image:"",title:"",mainAuthor:"",category:"",chapterLabels:"",state:!0,totalWordCount:0,collectionNum:0,followNum:0,content:[]});return(async()=>{try{const{data:l}=await b.get("/story/"+x.params.id);a.value._id=l.result._id,a.value.image=l.result.image,a.value.title=l.result.title,a.value.mainAuthor=l.result.mainAuthor,a.value.category=l.result.category,a.value.chapterLabels=l.result.chapterLabels,a.value.state=l.result.state,a.value.totalWordCount=l.result.totalWordCount,a.value.collectionNum=l.result.collectionNum,a.value.followNum=l.result.followNum,console.log("mainAuthor 的值：",l.result.mainAuthor),Array.isArray(l.result.content)&&l.result.content.length>0?a.value.content=l.result.content:a.value.content="內容不存在",document.title="界筆 | "+a.value.title}catch(l){console.log(data.result),console.log(l)}})(),(l,$)=>(i(),y(L,{style:{padding:"32px"}},{default:e(()=>{var g;return[t(_,{class:"mb-4"},{default:e(()=>[t(p,{class:"pa-4 align-center"},{default:e(()=>[t(c,{cols:"3"},{default:e(()=>[t(u,{src:a.value.image,alt:"書籍封面","aspect-ratio":"1"},null,8,["src"])]),_:1}),t(c,{cols:"9"},{default:e(()=>[t(p,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[s("h3",q,o(a.value.title),1)]),_:1}),t(c,{cols:"12"},{default:e(()=>{var n;return[s("p",null,[B,s("span",M,o((n=a.value.mainAuthor)==null?void 0:n.username),1)])]}),_:1}),t(c,{cols:"12"},{default:e(()=>[s("p",null,[R,r(o(a.value.category),1)])]),_:1}),t(c,{cols:"12"},{default:e(()=>[s("p",null,[z,s("span",E,o(a.value.state?"完結":"連載"),1)])]),_:1}),t(c,{cols:"12"},{default:e(()=>[s("p",null,[G,s("span",K,o(a.value.totalWordCount),1)])]),_:1}),t(c,{cols:"12",class:"d-flex"},{default:e(()=>[t(h,{class:"mr-2 grey--text",label:""},{default:e(()=>[r("收藏數 "+o(a.value.collectionNum),1)]),_:1}),t(h,{class:"grey--text",label:""},{default:e(()=>[r("追蹤數 "+o(a.value.followNum),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s("div",O,[t(d,{class:"mr-4",style:{"background-color":"#2883d3",color:"white"},to:"/stories/"+a.value._id+"/articles/"+((g=a.value.content[0])==null?void 0:g._id)},{default:e(()=>[r("開始閱讀")]),_:1},8,["to"]),t(d,{class:"mr-4",style:{"background-color":"#2883d3",color:"white"}},{default:e(()=>[r("章節列表")]),_:1}),t(d,{style:{"background-color":"#2883d3",color:"white"}},{default:e(()=>[r("收藏故事")]),_:1})]),t(_,{class:"pa-4",style:{"margin-top":"32px"}},{default:e(()=>{var n,f;return[Q,t(v,{class:"my-2"}),s("p",X,o((f=(n=a.value.content[0])==null?void 0:n.content)==null?void 0:f[0]),1),(i(!0),w(C,null,k(a.value.chapterLabels,V=>(i(),y(h,{density:"compact",color:"primary",label:"true",class:"mr-2"},{default:e(()=>[r(o(V),1)]),_:2},1024))),256))]}),_:1}),t(_,{style:{"margin-top":"32px"}},{default:e(()=>[D,t(p,{class:""},{default:e(()=>[t(c,null,{default:e(()=>[s("div",F,[s("div",H,[t(m,{color:"primary ",class:"me-3",size:"large"},{default:e(()=>[t(u,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRWAhVMz9jthsapuZL1tkdJks34QlTbXolbmg&s"})]),_:1}),I,S]),s("div",Y,[t(m,{color:"secondary ",class:"me-3",size:"large"},{default:e(()=>[t(u,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqnRWICFHo49O2OyVoMHrqkQmAevK654iXKw&s"})]),_:1}),Z,j]),t(v),s("div",J,[t(T,{ref:"textarea",id:"msg",placeholder:"請輸入您的留言或提問",variant:"outlined",width:"600",maxlength:"20",counter:""},{prepend:e(()=>[t(m,{color:"primary ",class:"me-1",size:"large"},{default:e(()=>[t(u,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyKvt7MWE2LrmiZbNLMYdnwEW-OnNf1sam1g&s"})]),_:1})]),_:1},512),t(d,{variant:"text",class:"rounded-md bg-accent mt-2",density:"comfortable",ripple:!1,id:"submit",style:{"background-color":"#f4b942"}},{default:e(()=>[r("送出")]),_:1})])])]),_:1})]),_:1})]),_:1})]}),_:1}))}};export{rt as default};
