import{x as d,o as Z,P as q,Q as c,R as L,S as a,c as t,ai as H,aj as J,W as m,Y as p,X as _,a2 as l,U as r,T as y,ad as K,a3 as I,Z as o,a5 as M,V as ee,a7 as te,a8 as ae,a6 as se,aa as le,_ as oe,ae as ne,af as ce}from"./index-8Uiqhuyy.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ue}from"./VContainer-CSikmqFk.js";import{V as g}from"./VDivider-CwA7EXwJ.js";import{V as f,a as h}from"./VRow-CNdGgXlO.js";import{a as ie,V as W}from"./VChip-BE6El_NJ.js";import"./VSlideGroup-B78MCx7J.js";const C=V=>(ne("data-v-36aa4367"),V=V(),ce(),V),de=C(()=>l("h2",null,"作品分類",-1)),me=C(()=>l("h2",null,"作品字數",-1)),pe=C(()=>l("h2",null,"作品狀態",-1)),_e={class:"d-flex align-center justify-space-between mb-2"},fe=C(()=>l("h2",null,"標籤選擇",-1)),he={class:"mr-4",style:{"font-weight":"bolder",color:"black"}},be={style:{"font-weight":"bolder",color:"black"}},ve={class:"mb-2",style:{"font-weight":"bolder",color:"black"}},xe={class:"mb-2",style:{"font-weight":"bolder",color:"black"}},ge=C(()=>l("p",{style:{"font-weight":"bolder",color:"black"}},"最新內容：",-1)),Ce={__name:"category",setup(V){const b=d([]),k=d(""),v=d(""),x=d(""),i=d(""),{api:B}=K(),w=d([]),j=["愛情","奇幻玄幻","科幻未來","驚悚推理","靈異恐怖","武俠仙俠","都市","LGBTQ+","勵志成長","幽默諷喻","影視","同人","網遊","歷史傳記","軍事戰爭","生活風格","親子共享","藝術設計","科普","商業理財","文藝評論","其他"],R=["不限","50字以下","1000字以下","2萬字以內","2萬-5萬字","5萬-10萬字","10萬-30萬字","30萬-60萬字","60萬-100萬字","100萬字以上"],N=["不限","連載","完結"],Q=["不限","戀愛","異界","校園","戰鬥","冒險","魔法","異能","超能力","超自然","重生","穿越","爽文/輕鬆","搞笑","虐心","復仇","靈異神怪","暗黑","恐怖","奇幻","異世界轉生","逆襲","未來世界","英雄","百合","同志","日常","科幻","成長","家庭","友情","偵探","職場","青梅竹馬","後宮","妖怪","節操","二創","悲劇","喜劇","異國","輕小說","心理","神話","蒸汽龐克","時間旅行","機器人","人工智能","動物"];(async()=>{try{const{data:s}=await B.get("/story");w.value=s.result.data||[]}catch(s){console.error(s),w.value=[]}})();const U=s=>{v.value=v.value===s?"":s},$=s=>{x.value=x.value===s?"":s},D=s=>{i.value=i.value===s?"":s},F=()=>{b.value=[]},G=s=>{switch(s){case"50字以下":return{min:0,max:50};case"1000字以下":return{min:51,max:1e3};case"2萬字以內":return{min:1001,max:2e4};case"2萬-5萬字":return{min:20001,max:5e4};case"5萬-10萬字":return{min:50001,max:1e5};case"10萬-30萬字":return{min:100001,max:3e5};case"30萬-60萬字":return{min:300001,max:6e5};case"60萬-100萬字":return{min:600001,max:1e6};case"100萬字以上":return{min:1000001,max:1/0};default:return{min:0,max:1/0}}},z=Z(()=>w.value.filter(s=>{var T;if(!s)return!1;const u=k.value?k.value.toLowerCase():"",S=s.title?s.title.toLowerCase().includes(u):!1,e=(T=s.mainAuthor)!=null&&T.username?s.mainAuthor.username.toLowerCase().includes(u):!1,n=v.value?s.category===v.value:!0,A=G(x.value),E=x.value?s.totalWordCount>=A.min&&s.totalWordCount<=A.max:!0,O=s.state?"完結":"連載",P=i.value?i.value==="不限"||O===i.value:!0,X=b.value.length?b.value.every(Y=>s.chapterLabels.includes(Y)):!0;return(S||e)&&n&&E&&P&&X}));return(s,u)=>{const S=q("router-link");return c(),L(ue,{style:{padding:"32px"}},{default:a(()=>[t(J,{class:"my-5"},{default:a(()=>[t(H,{modelValue:k.value,"onUpdate:modelValue":u[0]||(u[0]=e=>k.value=e),label:"搜尋","prepend-inner-icon":"mdi-magnify",density:"compact","hide-details":"","single-line":"",variant:"solo",clearable:"",color:"black"},null,8,["modelValue"])]),_:1}),de,t(g,{class:"custom-mb-5"}),t(f,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(c(),m(_,null,p(j,e=>t(h,{key:e,cols:"auto"},{default:a(()=>[t(y,{class:I([{"custom-btn":!0,selected:v.value===e},"my-1 mr-1"]),onClick:n=>U(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),me,t(g,{class:"custom-mb-5"}),t(f,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(c(),m(_,null,p(R,e=>t(h,{key:e,cols:"auto"},{default:a(()=>[t(y,{class:I(["mr-1",{"custom-btn":!0,selected:x.value===e}]),onClick:n=>$(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),pe,t(g,{class:"custom-mb-5"}),t(f,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[(c(),m(_,null,p(N,e=>t(h,{key:e,cols:"auto"},{default:a(()=>[t(y,{class:I(["mr-1",{"custom-btn":!0,selected:i.value===e}]),onClick:n=>D(e)},{default:a(()=>[r(o(e),1)]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1}),l("div",_e,[fe,t(y,{dense:"",onClick:F,class:"custom-reset-btn"},{default:a(()=>[r("重設標籤")]),_:1})]),t(g,{class:"custom-mb-5"}),t(f,{class:"custom-mb-5","no-gutters":""},{default:a(()=>[t(ie,{column:"","selected-class":"text-primary",multiple:"",modelValue:b.value,"onUpdate:modelValue":u[1]||(u[1]=e=>b.value=e)},{default:a(()=>[(c(),m(_,null,p(Q,e=>t(W,{key:e,text:e,class:"custom-chip d-flex align-center justify-center",elevation:"2",value:e},null,8,["text","value"])),64))]),_:1},8,["modelValue"])]),_:1}),(c(!0),m(_,null,p(z.value,e=>(c(),L(S,{key:e.id,to:"/stories/"+e._id,style:{"text-decoration":"none"}},{default:a(()=>[t(M,{style:{border:"1px solid black",margin:"15px"}},{default:a(()=>[t(f,{"no-gutters":""},{default:a(()=>[t(h,{cols:"2",class:"pt-4 pb-4 pl-4"},{default:a(()=>[t(ee,{src:e.image,width:"200px",height:"150px",cover:""},null,8,["src"])]),_:2},1024),t(h,{cols:"10"},{default:a(()=>[t(f,{"no-gutters":""},{default:a(()=>[t(h,{class:"mt-4"},{default:a(()=>[t(te,{class:"d-flex justify-space-between pt-0"},{default:a(()=>[l("span",null,o(e.title),1),t(W,{style:{"border-radius":"4px",padding:"0px 12px",border:"1px solid black","background-color":"rgba(151, 216, 196, 0.4)",color:"black","font-weight":"bold"}},{default:a(()=>[r(o(e.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(ae,null,{default:a(()=>[l("div",null,[l("span",he,"初創者："+o(e.mainAuthor.username),1),l("span",be,"最新延續者："+o(e.latestAuthor),1)]),l("p",ve," 作品字數："+o(e.totalWordCount),1),l("p",xe," 作品狀態："+o(e.state?"完結":"連載"),1),ge]),_:2},1024),t(se,{class:"text py-1",style:{"font-weight":"500"}},{default:a(()=>{var n;return[r(o((n=e.content[e.content.length-1])==null?void 0:n.content.join("")),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024),t(g,{style:{color:"black"}}),t(le,{class:"px-4 py-1"},{default:a(()=>[t(oe,{class:"mr-2"},{default:a(()=>[r("mdi-label-outline")]),_:1}),(c(!0),m(_,null,p(e.chapterLabels,n=>(c(),L(W,{class:"mr-2",style:{"border-radius":"4px"}},{default:a(()=>[r("#"+o(n),1)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})}}},Ae=re(Ce,[["__scopeId","data-v-36aa4367"]]);export{Ae as default};
