import{p as te,m as de,bs as nt,g as ae,aQ as Pe,bu as ot,u as ne,c as t,bp as Ee,bv as st,w as lt,aM as _e,bA as rt,h as $e,o as h,bq as it,r as Te,ak as Y,d as ct,br as ut,e as dt,a as Ne,bt as pt,j as vt,k as ft,aP as mt,bB as ht,bC as gt,f as xt,bo as yt,l as bt,q as Ct,t as I,a2 as Z,a3 as Ae,x as z,b1 as ie,a7 as S,aa as B,ac as n,aq as We,ad as P,af as Vt,V as _t,a9 as i,ah as b,ae as E,J as F,G as kt,a8 as G,P as Re,ag as Be,ai as H,ap as Le,aw as ce,ao as ze,at as De,a4 as wt,a5 as St,A as It,as as Pt,z as re,am as Et,al as $t,b2 as Tt,aF as Nt,av as ke,ax as At,ay as Wt}from"./index-Bi9j8mr4.js";import{b as we,c as Rt,u as Bt,f as Se,V as Lt}from"./vee-validate.esm-lHD3zOOR.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as zt}from"./VMenu-CrC6nGzv.js";import{a as Dt,V as Mt,b as jt}from"./VList-K_Ydcgir.js";import{V as Ft}from"./VContainer-Xh312FQW.js";import{V as L,a as O}from"./VRow-C_QcEOvS.js";import{V as Ut}from"./VTextarea-CscN_-vA.js";const J=Symbol.for("vuetify:v-expansion-panel"),je=te({...de(),...nt()},"VExpansionPanelText"),ee=ae()({name:"VExpansionPanelText",props:je(),setup(e,u){let{slots:l}=u;const a=Pe(J);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:f,onAfterLeave:$}=ot(e,a.isSelected);return ne(()=>t(lt,{onAfterLeave:$},{default:()=>{var _;return[Ee(t("div",{class:["v-expansion-panel-text",e.class],style:e.style},[l.default&&f.value&&t("div",{class:"v-expansion-panel-text__wrapper"},[(_=l.default)==null?void 0:_.call(l)])]),[[st,a.isSelected.value]])]}})),{}}}),Fe=te({color:String,expandIcon:{type:_e,default:"$expand"},collapseIcon:{type:_e,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...de()},"VExpansionPanelTitle"),ue=ae()({name:"VExpansionPanelTitle",directives:{Ripple:rt},props:Fe(),setup(e,u){let{slots:l}=u;const a=Pe(J);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:f,backgroundColorStyles:$}=$e(e,"color"),_=h(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),p=h(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return ne(()=>{var g;return Ee(t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},f.value,e.class],style:[$.value,e.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[t("span",{class:"v-expansion-panel-title__overlay"},null),(g=l.default)==null?void 0:g.call(l,_.value),!e.hideActions&&t(Te,{defaults:{VIcon:{icon:p.value}}},{default:()=>{var k;return[t("span",{class:"v-expansion-panel-title__icon"},[((k=l.actions)==null?void 0:k.call(l,_.value))??t(Y,null,null)])]}})]),[[it("ripple"),e.ripple]])}),{}}}),Ue=te({title:String,text:String,bgColor:String,...ct(),...ut(),...dt(),...Ne(),...Fe(),...je()},"VExpansionPanel"),qt=ae()({name:"VExpansionPanel",props:Ue(),emits:{"group:selected":e=>!0},setup(e,u){let{slots:l}=u;const a=pt(e,J),{backgroundColorClasses:f,backgroundColorStyles:$}=$e(e,"bgColor"),{elevationClasses:_}=vt(e),{roundedClasses:p}=ft(e),g=h(()=>(a==null?void 0:a.disabled.value)||e.disabled),k=h(()=>a.group.items.value.reduce((s,m,W)=>(a.group.selected.value.includes(m.id)&&s.push(W),s),[])),N=h(()=>{const s=a.group.items.value.findIndex(m=>m.id===a.id);return!a.isSelected.value&&k.value.some(m=>m-s===1)}),C=h(()=>{const s=a.group.items.value.findIndex(m=>m.id===a.id);return!a.isSelected.value&&k.value.some(m=>m-s===-1)});return mt(J,a),ne(()=>{const s=!!(l.text||e.text),m=!!(l.title||e.title),W=ue.filterProps(e),D=ee.filterProps(e);return t(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":N.value,"v-expansion-panel--after-active":C.value,"v-expansion-panel--disabled":g.value},p.value,f.value,e.class],style:[$.value,e.style]},{default:()=>[t("div",{class:["v-expansion-panel__shadow",..._.value]},null),t(Te,{defaults:{VExpansionPanelTitle:{...W},VExpansionPanelText:{...D}}},{default:()=>{var M;return[m&&t(ue,{key:"title"},{default:()=>[l.title?l.title():e.title]}),s&&t(ee,{key:"text"},{default:()=>[l.text?l.text():e.text]}),(M=l.default)==null?void 0:M.call(l)]}})]})}),{groupItem:a}}}),Ot=["default","accordion","inset","popout"],Gt=te({flat:Boolean,...ht(),...gt(Ue(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...xt(),...de(),...Ne(),variant:{type:String,default:"default",validator:e=>Ot.includes(e)}},"VExpansionPanels"),Ht=ae()({name:"VExpansionPanels",props:Gt(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:l}=u;const{next:a,prev:f}=yt(e,J),{themeClasses:$}=bt(e),_=h(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ct({VExpansionPanel:{bgColor:I(e,"bgColor"),collapseIcon:I(e,"collapseIcon"),color:I(e,"color"),eager:I(e,"eager"),elevation:I(e,"elevation"),expandIcon:I(e,"expandIcon"),focusable:I(e,"focusable"),hideActions:I(e,"hideActions"),readonly:I(e,"readonly"),ripple:I(e,"ripple"),rounded:I(e,"rounded"),static:I(e,"static")}}),ne(()=>t(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},$.value,_.value,e.class],style:e.style},{default:()=>{var p;return[(p=l.default)==null?void 0:p.call(l,{prev:f,next:a})]}})),{next:a,prev:f}}});function Jt(e){return{all:e=e||new Map,on:function(u,l){var a=e.get(u);a?a.push(l):e.set(u,[l])},off:function(u,l){var a=e.get(u);a&&(l?a.splice(a.indexOf(l)>>>0,1):e.set(u,[]))},emit:function(u,l){var a=e.get(u);a&&a.slice().map(function(f){f(l)}),(a=e.get("*"))&&a.slice().map(function(f){f(u,l)})}}}const Ie=Jt(),Qt={class:"title-row"},Kt={class:"title-text"},Xt={class:"card-title my-1"},Yt={class:"vote-section"},Zt={class:"vote-count text-body-2"},ea={__name:"VoteItem",props:["content","chapterName","author","voteCount","storyId","extensionId","voteStatus","authorId"],setup(e){const{apiAuth:u}=De(),l=Z(),a=Z(),f=Ae(),$=z(!1),_=e,{content:p,author:g,voteStatus:k,voteCount:N,storyId:C,extensionId:s}=ie(_),m=l.userId,W=h(()=>N.value.includes(m)),D=async V=>{var x,v;if(!a.isLogin){f({text:"請先登入才能投票",snackbarProps:{color:"red"}});return}try{(await u.patch(`/story/${C.value}/${s.value}`,{voteCountChange:V})).data.hasVotedInOtherExtension||($.value=!0);const T=await u.get(`/voteRecord/${C.value}/${s.value}`);V>0?T.data.exists?console.log("投票紀錄已存在，無需重複創建"):await u.post(`/voteRecord/postVoteRec/${C.value}/${s.value}`,{content:(v=(x=p.value)==null?void 0:x[0])==null?void 0:v.latestContent,exAuthor:g.value.username}):T.data.exists?await u.delete(`/voteRecord/delVoteRec/${C.value}/${s.value}`):console.log("投票紀錄不存在，無需刪除"),Ie.emit("updateStory")}catch(y){console.log(y),console.error("Error updating vote count:",y)}},M=h(()=>[{title:"刪除",action:oe}]),oe=async()=>{var V,x;try{await u.delete(`/story/${C.value}/${s.value}/deleteExtensionStory`),f({text:"刪除成功",snackbarProps:{color:"green"}}),Ie.emit("updateStory")}catch(v){console.log(v),f({text:((x=(V=v==null?void 0:v.response)==null?void 0:V.data)==null?void 0:x.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(V,x)=>(S(),B(ze,{class:"w-100 px-3 py-3 rounded-lg",style:{border:"1px solid #48a9a6",margin:"16px 0px"}},{default:n(()=>[t(We,{class:"pa-0 pr-7"},{default:n(()=>{var v;return[P("div",Qt,[P("div",Kt,[t(Vt,{color:"secondary",class:"me-3",size:"46"},{default:n(()=>{var y;return[t(_t,{src:(y=i(g))==null?void 0:y.avatar},null,8,["src"])]}),_:1}),P("h1",Xt,b((v=i(g))==null?void 0:v.username),1)]),P("div",Yt,[t(Y,{class:"vote-icon",size:"20"},{default:n(()=>[E("mdi-vote")]),_:1}),P("span",Zt,b(e.voteCount.length),1),i(m)===i(g)._id?(S(),B(zt,{key:0,location:"end"},{activator:n(({props:y})=>[t(F,kt({icon:""},y,{class:"menu-btn",style:{width:"30px",height:"30px",padding:"auto"},variant:"plain"}),{default:n(()=>[t(Y,{size:"20"},{default:n(()=>[E("mdi-dots-vertical")]),_:1})]),_:2},1040)]),default:n(()=>[t(Dt,{class:"pa-0"},{default:n(()=>[(S(!0),G(Re,null,Be(M.value,(y,T)=>(S(),B(Mt,{class:"px-4 py-1 my-0",key:T,onClick:pe=>y.action?y.action():null,link:""},{default:n(()=>[t(jt,null,{default:n(()=>[E(b(y.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):H("",!0)])])]}),_:1}),t(Le,{class:"pa-0 mx-7 pl-8 pr-2 py-1"},{default:n(()=>{var v;return[E(b((v=i(p))==null?void 0:v[0].latestContent),1)]}),_:1}),t(ce,{class:"d-flex justify-end"},{default:n(()=>[t(F,{disabled:W.value||i(k).hasVoted,style:{"background-color":"#f24e1e",color:"white"},onClick:x[0]||(x[0]=v=>D(1))},{default:n(()=>[E("投票")]),_:1},8,["disabled"]),t(F,{disabled:!W.value||i(k).hasVoted&&!i(k).voteThis,style:{"background-color":"#f4b942",color:"black","margin-right":"24px"},onClick:x[1]||(x[1]=v=>D(-1))},{default:n(()=>[E("取消")]),_:1},8,["disabled"])]),_:1})]),_:1}))}},ta=Me(ea,[["__scopeId","data-v-3dfedfc0"]]),aa=e=>(At("data-v-584ee0f4"),e=e(),Wt(),e),na={class:"font-weight-black",style:{"font-size":"16px","margin-right":"4px"}},oa={key:0,style:{color:"#4e9194","font-size":"12px"}},sa={style:{color:"#4e9194","margin-right":"10px","font-size":"14px"}},la={key:0,class:"text--danger d-inline-block font-weight-black",style:{"font-size":"12px"}},ra={key:1,class:"d-inline-block",style:{color:"black","margin-right":"10px"}},ia={style:{color:"black","margin-right":"10px"}},ca={style:{"word-wrap":"break-word"}},ua=aa(()=>P("h1",null,"故事投票",-1)),j=1,da={__name:"StoryItem",props:{category:String,title:String,mainAuthor:[String,Object],content:{type:Array,default:()=>[]},createdAt:String,extensions:{type:Array,default:()=>[]},_id:String,voteTime:[String,Number],voteStart:[String,Date],voteEnd:[String,Date],totalWordCount:{type:Number,required:!0},extendWordLimit:{type:Number,default:50},chapters:{type:Number,default:1},wordsPerChapter:{type:Number,default:100},currentChapterWordCount:{type:Number,default:0},chapterWordCount:{type:Number,default:0},state:{type:Boolean,default:!1},isExpanded:Boolean},emits:["update","toggle"],setup(e,{emit:u}){const l=Z(),a=Z(),f=wt(),$=St(),_=l.userId,p=u,{apiAuth:g}=De(),k=z("");let N=0;const C=Ae(),s=e,m=z(s.isExpanded?[0]:null),{category:W,title:D,mainAuthor:M,createdAt:oe,_id:V}=s,{content:x}=ie(s),v=h(()=>s.state),y=h(()=>x.value&&x.value.length>0&&x.value[x.value.length-1].chapterName||"暫無章節名"),T=h(()=>{const o=s.wordsPerChapter-s.currentChapterWordCount;return o===0?s.extendWordLimit:o<s.extendWordLimit?o:s.extendWordLimit||50}),pe=h(()=>[o=>o.length>=j&&o.length<=T.value||`內容字數需在 ${j} 至 ${T.value} 字之間`]),ve=h(()=>s.currentChapterWordCount>=s.wordsPerChapter),qe=h(()=>{const o={newChapterContent:we().required("故事內容必填").min(j,`故事內容不能少於 ${j} 字`).max(T.value,`故事內容不能超過 ${T.value} 字`)};return ve.value&&(o.newChapterName=we().required("章節名稱必填").min(1).max(60)),Rt(o)}),{handleSubmit:Oe,isSubmitting:fe,resetForm:Ge}=Bt({validationSchema:qe,initialValues:{newChapterContent:"",newChapterName:""}}),me=Se("newChapterName"),he=Se("newChapterContent"),Q=z(!1),ge=h(()=>s.content&&s.content.length>0?s.content[s.content.length-1].content||[]:[]),He=()=>{const o=(s.content.length-1)*s.wordsPerChapter,c=s.currentChapterWordCount,r=o+c;return Math.max(0,s.totalWordCount-r)},xe=h(()=>He()),{extensions:w,voteEnd:se}=ie(s),ye=z(!1),K=z(!1),Je=async()=>{if(a.isLogin)try{const o=f.params.id||V,c=await g.get(`user/checkBookmark/${o}`);ye.value=c.data.hasCollection,K.value=c.data.hasCollection}catch(o){console.error("檢查收藏狀態失敗",o)}},Qe=async()=>{if(!a.isLogin){C({text:"請先登入才能收藏",snackbarProps:{color:"red"}});return}try{const o=await g.post("user/addBookmark",{storyId:V});ye.value=o.data.hasCollection,K.value=o.data.hasCollection,C({text:o.data.hasCollection?"收藏故事":"取消收藏",snackbarProps:{color:"green"}})}catch(o){console.error("收藏操作失败",o),C({text:"收藏操作失败",snackbarProps:{color:"red"}})}},Ke=h(()=>K.value?"mdi-heart":"mdi-heart-outline"),Xe=()=>{a.isLogin?Q.value=!0:(C({text:"請先登入才能收藏",snackbarProps:{color:"red"}}),$.push("/login"))},X=z(!1),Ye=async o=>{var c,r;console.log("mergeHighestVotedStory 開始執行");try{if(!w.value.length){console.log("沒有延續故事可供合併"),p("update");return}if(X.value){p("update");return}if(X.value=!0,!w.value.filter(R=>R.voteCount.length>0).length){console.log("所有延續故事的票數為 0，清空延續故事"),await g.patch(`/story/${V}/clearExtensions`),p("update");return}const A=w.value.reduce((R,U)=>U.voteCount.length>R.voteCount.length?U:R);if(!(A!=null&&A._id))throw new Error("延續故事未找到");s.currentChapterWordCount===s.wordsPerChapter?(console.log("當前章節已達到字數上限，準備創建新章節"),await g.post(`/story/${V}/newChapter`,{newContent:(c=A.content[0])==null?void 0:c.latestContent,newChapterName:A.chapterName}),console.log("觸發 newChapter"),p("update")):(await g.patch(`/story/${V}/merge`,{extensionsId:A._id})).data.isCompleted&&(s.state=!0),console.log("即將觸發 emit update"),p("update"),console.log("已觸發 emit update"),console.log("合併操作完成")}catch(d){console.error("合併故事時發生錯誤",((r=d.response)==null?void 0:r.data)||d.message||d)}finally{console.log("重置 hasMerged "),X.value=!1,p("update")}};let le=!1;const be=async()=>{const o=Date.now(),r=new Date(se.value).getTime()-o;if(r<=0){clearInterval(N),k.value="",w.value.length>0&&!X.value&&!le&&(le=!0,await Ye(),le=!1);return}const d=Math.floor(r/1e3),A=Math.floor(d/(24*3600)),R=Math.floor(d%(24*3600)/3600),U=Math.floor(d%3600/60),Ve=d%60,q=[];A>0&&q.push(`${A} 天`),R>0&&q.push(`${R} 小時`),U>0&&q.push(`${U} 分`),Ve>0&&q.push(`${Ve} 秒`),k.value=q.join(" ")},Ce=()=>{N&&clearInterval(N),be(),N=setInterval(be,1e3)};It(()=>{a.isLogin&&Je(),se&&Ce()});const Ze=Oe(async o=>{var c,r;try{const d=w.value.length===0;await g.post(`/story/${V}`,{chapterName:o.newChapterName,content:o.newChapterContent,voteStart:d?new Date:void 0}),C({text:"延伸內容提交成功",snackbarProps:{color:"green"}}),Ge(),Q.value=!1,p("update")}catch(d){console.log(d),C({text:((r=(c=d==null?void 0:d.response)==null?void 0:c.data)==null?void 0:r.message)||"發生錯誤",snackbarProps:{color:"red"}})}});Pt(()=>{N&&clearInterval(N)}),re(()=>s.content,o=>{ge.value=o[0].content}),re(se,o=>{o&&Ce()});const et=o=>{let c=!1,r=!1;for(const d of w.value)d.voteCount.indexOf(_)>-1&&(c=!0,d._id===o._id&&(r=!0));return{hasVoted:c,voteThis:r}};re(()=>s.isExpanded,o=>{m.value=o?[0]:null});const tt=()=>{console.log("正在執行 emit(toggle)"),p("toggle")},at=()=>{console.log("正在執行 emit(toggle)"),p("toggle")};return(o,c)=>(S(),B(Ht,{class:"customMb",modelValue:m.value,"onUpdate:modelValue":c[4]||(c[4]=r=>m.value=r),onChange:tt},{default:n(()=>[t(qt,{style:{"border-radius":"10px"}},{default:n(()=>[t(ue,{onClick:at,class:"d-flex pa-2"},{default:n(()=>[t(Ft,{class:"ma-0 pa-0 bg-white rounded-0 d-flex",style:{"box-shadow":"none","max-width":"100%"}},{default:n(()=>[t(L,{cols:"1",class:"d-flex align-center justify-center ml-1"},{default:n(()=>[E(b(i(W)),1)]),_:1}),t(L,{cols:"11"},{default:n(()=>[t(O,{"no-gutters":"",class:"d-flex align-center justify-space-between"},{default:n(()=>{var r;return[P("span",na,[E(b(i(D))+" ",1),v.value?(S(),G("span",oa," （完） ")):H("",!0)]),P("span",sa,b((r=i(M))==null?void 0:r.username),1)]}),_:1}),t(O,{"no-gutters":"",class:"d-flex align-center justify-space-between my-2"},{default:n(()=>[i(w)&&i(w).length>0?(S(),G("span",la,"投票倒數計時： ")):H("",!0),i(w)&&i(w).length>0?(S(),G("span",ra,b(k.value),1)):H("",!0)]),_:1}),t(O,{"no-gutters":"",class:"d-flex align-center justify-space-between mt-2"},{default:n(()=>[P("span",null,b(y.value),1),P("span",ia,b(new Date(i(oe)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(ee,null,{default:n(()=>[t(O,{style:{padding:"12px"}},{default:n(()=>[t(L,{cols:"12",class:"mt-1 pa-0",style:{"font-size":"8px"}},{default:n(()=>[P("h1",null,b(i(x).length>0?"最新內容":"開始故事")+" ("+b(xe.value===0?"已結束":`剩餘字數：${xe.value}`)+") ",1)]),_:1}),t(L,{cols:"12"},{default:n(()=>[t(O,null,{default:n(()=>[t(L,{cols:"1",class:"d-flex align-center justify-center pa-0"},{default:n(()=>[t(F,{text:"",ripple:!1,variant:"text",class:Et(["heart-button pa-0",{filled:K.value}]),onClick:Qe},{default:n(()=>[t(Y,null,{default:n(()=>[E(b(Ke.value),1)]),_:1})]),_:1},8,["class"])]),_:1}),t(L,{cols:"11",class:"pl-0"},{default:n(()=>[P("p",ca,b(ge.value.join("")),1),t(ce,null,{default:n(()=>[t($t),t(F,{color:"secondary",variant:"outlined",onClick:Xe,disabled:v.value},{default:n(()=>[E(b(v.value?"故事已完结":"延續故事"),1)]),_:1},8,["disabled"])]),_:1}),t(Tt,{modelValue:Q.value,"onUpdate:modelValue":c[3]||(c[3]=r=>Q.value=r),"max-width":"500"},{default:n(()=>[t(Lt,{onSubmit:Nt(i(Ze),["prevent"]),disabled:i(fe)},{default:n(()=>[t(ze,null,{default:n(()=>[t(We,{class:"text-center",style:{"background-color":"#97d8c4"}},{default:n(()=>[E("延續故事")]),_:1}),t(Le,{class:"py-4 pb-0"},{default:n(()=>[ve.value?(S(),B(ke,{key:0,modelValue:i(me).value.value,"onUpdate:modelValue":c[0]||(c[0]=r=>i(me).value.value=r),class:"mb-4",label:"輸入章節名稱","hide-details":"",minlength:1,maxlength:60},null,8,["modelValue"])):(S(),B(ke,{key:1,modelValue:y.value,"onUpdate:modelValue":c[1]||(c[1]=r=>y.value=r),class:"mb-4",label:"當前章節名稱","hide-details":"",disabled:""},null,8,["modelValue"])),t(Ut,{modelValue:i(he).value.value,"onUpdate:modelValue":c[2]||(c[2]=r=>i(he).value.value=r),label:`故事內容（字數：${j} - ${T.value} 字）`,rows:"10",minlength:j,maxlength:T.value,counter:"","auto-grow":"",rules:pe.value,style:{"margin-bottom":"8px"}},null,8,["modelValue","label","maxlength","rules"])]),_:1}),t(ce,{class:"justify-center align-start py-0"},{default:n(()=>[t(F,{style:{"background-color":"#4e9194",color:"#000000"},type:"submit",loading:i(fe)},{default:n(()=>[E("發布")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit","disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(w)&&i(w).length>0?(S(),B(ee,{key:0},{default:n(()=>[t(L,{cols:"12",class:"mt-1 mb-3 pa-0",style:{"font-size":"8px"}},{default:n(()=>[ua]),_:1}),(S(!0),G(Re,null,Be(i(w).slice(0,5),(r,d)=>(S(),B(ta,{key:d,storyId:i(V),authorId:r.author._id,extensionId:r._id,content:r.content,chapterName:r.chapterName,author:r.author,voteCount:r.voteCount,voteStatus:et(r)},null,8,["storyId","authorId","extensionId","content","chapterName","author","voteCount","voteStatus"]))),128))]),_:1})):H("",!0)]),_:1})]),_:1},8,["modelValue"]))}},ba=Me(da,[["__scopeId","data-v-584ee0f4"]]);export{ba as S,Ie as m};
